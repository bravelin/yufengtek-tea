(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5879bf72"],{"185c":function(t,e,a){},"30a8":function(t,e,a){var i=a("962f");(function(){for(var t in i){if(null==i||!i.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=i[t]}})();var n=a("db44");(function(){for(var t in n){if(null==n||!n.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=n[t]}})(),a("27e7"),a("7e1d")},"435e":function(t,e,a){var i=a("45e2"),n=Math.PI,o=Math.sin,r=Math.cos,s=i.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(t,e){var a=e.n;if(a&&!(a<2)){var i=e.x,s=e.y,l=e.r,c=2*n/a,f=-n/2;t.moveTo(i+l*r(f),s+l*o(f));for(var h=0,u=a-1;h<u;h++)f+=c,t.lineTo(i+l*r(f),s+l*o(f));t.closePath()}}});t.exports=s},"54c4":function(t,e,a){var i=a("45e2"),n=i.extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var a=e.cx,i=e.cy,n=e.width,o=e.height;t.moveTo(a,i),t.bezierCurveTo(a+n/2,i-2*o/3,a+2*n,i+o/3,a,i+o),t.bezierCurveTo(a-2*n,i+o/3,a-n/2,i-2*o/3,a,i)}});t.exports=n},6362:function(t,e,a){"use strict";var i=a("185c"),n=a.n(i);n.a},"8a00":function(t,e,a){"use strict";a.r(e);var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page home-page"},[a("div",[a("AmountRank"),a("FarmingInfo"),a("PickInfo")],1),a("div",[a("Map"),a("WarehouseInfo")],1),a("div",[a("OriginData"),a("Iot"),a("LevelInfo")],1)])},o=[],r=(a("7a59"),a("eb57")),s=a("591a"),l=a("0706"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plane",{staticClass:"farming-info-wrap",attrs:{full:t.farmingInfoFullState}},[a("PlaneTitle",[t._v("施肥信息")]),a("div",{staticClass:"chart-unit"},[t._v("单位：kg")]),a("div",{ref:"container",staticClass:"plane-content",class:{hide:!t.farmingActdatas.length}}),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:t.farmingActdatas.length,expression:"farmingActdatas.length"}],attrs:{full:t.farmingInfoFullState},on:{change:t.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.farmingActdatas.length,expression:"!farmingActdatas.length"}],staticClass:"iconfont null-data-tag"},[t._v("")])],1)},f=[],h=(a("f763"),a("cb1d")),u=a("e20c"),d=a("3604"),m=a("f1ed"),v=l["a"].HOME,p=Object(s["a"])(v).mapState,x="farmingActdatas",b="farmingInfoFullState",g="$store.state.".concat(v),S="".concat(g,".").concat(x),y="".concat(g,".").concat(b),w="$store.state.windowResizeState",O={name:"HomeFarmingInfo",computed:Object(u["a"])({},p([b,x]),Object(s["c"])(["smallScreen","miniScreen"])),watch:(i={},Object(h["a"])(i,S,function(){this.doInitOrRefreshChart()}),Object(h["a"])(i,y,function(){this.doInitOrRefreshChart()}),Object(h["a"])(i,w,function(){this.doInitOrRefreshChart()}),i),data:function(){return{container:null,chart:null}},mounted:function(){var t=this;t.$nextTick(function(){t.container=t.$refs.container,t.doInitOrRefreshChart()})},methods:{doInitOrRefreshChart:function(){var t=this,e=t[x];if(e&&e.length){var a=t.container;if(a){var i=t.handleChartData(e),n=i.values,o=i.titles,r=t.getBaseOptions(n,o);t.fixOptions(r,o,n),t.chart?(t.chart.setOption(r),setTimeout(function(){t.chart.resize()},200)):(t.chart=d["a"].init(a),t.chart.setOption(r))}}},getBaseOptions:function(t,e){var a=Object(m["a"])(t,4,.5),i=a.min,n=a.max,o=a.interval;return{grid:{top:18,left:12,right:12,bottom:3,containLabel:!0},tooltip:{trigger:"axis",formatter:"{b}：{c}kg",backgroundColor:"rgba(0, 159, 253, 0.9)",axisPointer:{lineStyle:{color:"rgba(238, 238, 238, 0.4)"}},textStyle:{fontSize:14}},xAxis:{type:"category",data:e,boundaryGap:!0,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{margin:8,textStyle:{color:"#fff",fontSize:12}}},yAxis:{show:!0,min:i,max:n,interval:o,splitLine:{show:!0,lineStyle:{type:"dosh",color:"rgba(255, 255, 255, 0.2)",width:.5}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,margin:8,textStyle:{color:"#fff",fontSize:12}}},series:[{smooth:!0,type:"line",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"#02b9e1",label:{show:!0,position:"outside",fontSize:12,color:"#ffffff"}}},data:t,lineStyle:{width:2,color:"rgb(153, 227, 253)"},areaStyle:{normal:{color:new d["a"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(153, 228, 253, 0.6)"},{offset:1,color:"rgba(45, 80, 131, 0.1)"}],!1)}}}]}},fixOptions:function(t,e,a){var i=this;if(i[b])if(i.smallScreen||i.miniScreen)t.grid={top:25,left:25,right:25,bottom:20,containLabel:!0};else{var n=Object(m["a"])(a,6,.5),o=n.min,r=n.max,s=n.interval;t.grid={top:30,left:25,right:25,bottom:20,containLabel:!0},t.series[0].symbolSize=14,t.series[0].itemStyle.normal.label.fontSize=14,t.xAxis.axisLabel.margin=12,t.xAxis.axisLabel.textStyle.fontSize=15,t.yAxis.min=o,t.yAxis.max=r,t.yAxis.interval=s,t.yAxis.axisLabel.margin=12,t.yAxis.axisLabel.textStyle.fontSize=15,t.tooltip.textStyle.fontSize=18}else if(i.miniScreen){var l=Object(m["a"])(a,3,.5),c=l.min,f=l.max,h=l.interval;t.grid={top:14,left:2,right:8,bottom:3,containLabel:!0},t.series[0].symbolSize=6,t.series[0].itemStyle.normal.label.fontSize=10,t.series[0].lineStyle.width=1,t.xAxis.axisLabel.margin=7,t.xAxis.axisLabel.textStyle.fontSize=9,t.yAxis.min=c,t.yAxis.max=f,t.yAxis.interval=h,t.yAxis.axisLabel.margin=7,t.yAxis.axisLabel.textStyle.fontSize=9,t.tooltip.textStyle.fontSize=10}else if(i.smallScreen){var u=Object(m["a"])(a,3,.5),d=u.min,v=u.max,p=u.interval;t.grid={top:16,left:6,right:8,bottom:3,containLabel:!0},t.series[0].symbolSize=9,t.series[0].itemStyle.normal.label.fontSize=11,t.xAxis.axisLabel.margin=9,t.xAxis.axisLabel.textStyle.fontSize=11,t.yAxis.min=d,t.yAxis.max=v,t.yAxis.interval=p,t.yAxis.axisLabel.margin=9,t.yAxis.axisLabel.textStyle.fontSize=11,t.tooltip.textStyle.fontSize=12}},handleChartData:function(t){var e=[],a=[];return t.forEach(function(t){e.push(t.label+"月"),a.push(t.value.toFixed(0)-0)}),{titles:e,values:a}},doFullStateChange:function(t){this.$store.commit(v+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:b,state:t})}}},C=O,_=a("17cc"),z=Object(_["a"])(C,c,f,!1,null,null,null),A=z.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plane",{staticClass:"iot-wrap"},[a("PlaneTitle",[t._v("物联监控")]),a("div",{staticClass:"plane-content",class:{hide:!t.iotDatas.length}},[a("div",{staticClass:"left"},[a("div"),a("div",[a("h3",[t._v(t._s(t.monitorAmount+t.cameraAmount))]),a("div",[t._v("总设备")])]),t._l(t.iotDatas,function(e){return a("div",{key:e.type,class:"dot "+e.type+" "+e.size},[a("div"),a("div",[t._v(t._s(e.name))]),a("div",[t._v(t._s(e.data))])])})],2),a("router-link",{staticClass:"right",attrs:{to:{name:"iot"},tag:"ul"}},[a("li",[a("div",[t._v("监测站设备")]),a("div",[t._v(t._s(t.monitorAmount))])]),a("li",[a("div",[t._v("摄像头设备")]),a("div",[t._v(t._s(t.cameraAmount))])])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.iotDatas.length,expression:"!iotDatas.length"}],staticClass:"iconfont null-data-tag"},[t._v("")])],1)},k=[],T=(a("7364"),a("4964")),D=(a("11ac"),l["a"].HOME),j=Object(s["a"])(D).mapState,E={name:"HomeIot",computed:Object(u["a"])({},j(["cameraAmount","monitorAmount"]),{iotDatas:function(){var t=this.$store.state[D].iotDatas;if(t.length){var e=t.map(function(t){return t.data}),a=Math.max.apply(Math,Object(T["a"])(e)),i=0;return t.map(function(t){return a<10?i=0:t.data>=.8*a?i=3:t.data>=.6*a?i=2:t.data>=.4*a&&(i=1),{name:t.name,data:t.data,type:t.type,size:"s".concat(i)}})}return[]}})},I=E,R=Object(_["a"])(I,L,k,!1,null,null,null),F=R.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plane",{staticClass:"origin-wrap",attrs:{full:t.originDataFullState}},[a("PlaneTitle",[t._v("溯源排行")]),a("div",{staticClass:"chart-unit"},[t._v("单位：次")]),a("div",{ref:"container",staticClass:"plane-content",class:{hide:!t.cityDatas.length}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.cityDatas.length,expression:"!cityDatas.length"}],staticClass:"iconfont null-data-tag"},[t._v("")]),a("ul",{staticClass:"data-list"},t._l(t.dataList,function(e){return a("li",{key:e.name},[t._v(t._s(e.name)+"（"),a("span",[t._v(t._s(e.value))]),t._v("）")])}),0),a("div",{staticClass:"pop-tip",class:{active:t.tip.isShow},style:{left:t.tip.x,top:t.tip.y}},[t._v(t._s(t.tip.content)+"次")])],1)},P=[];function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function N(t,e,a){return e&&H(t.prototype,e),a&&H(t,a),t}var W,G,B,U,V,K=a("30a8"),X=a.n(K),J={fillColors:["#dc5568","#d7ae27","#45c6b2"],strokeColors:["#c0405b","#c29b1e","#2c8291"],shadowColors:["rgba(220, 85, 104, 0.7)","rgba(215,174,39,0.7)","rgba(69, 198, 178, 0.7)"],default:{fillColor:"#01195a",strokeColor:"#38539d",shadowColor:"rgba(56,83,157,0.7)"}},Y=[80,75,70,60,60,60,50,50,50],q=[[.6,.5],[.45,.2],[.83,.26],[.87,.6],[.2,.46],[.38,.56],[.16,.75],[.48,.8],[.77,.87]],Q=9,Z=function(){function t(e){$(this,t),this.container=e,this.zr=X.a.init(e),this.width=0,this.height=0,this.dataList=[]}return N(t,[{key:"refresh",value:function(t){this.zr.clear(),this.dataList=[],this.zr.resize(),this.draw(t)}},{key:"draw",value:function(t){for(var e=this,a=e.zr,i=[],n=0;i.length<Q&&n<t.length;n++)t[n].name&&i.push(t[n]);e.width=a.getWidth(),e.height=a.getHeight();var o=0,r=this.dataList,s=document.documentElement.clientWidth||window.innerWidth,l=1;s<=1200?l=.6:s<=1400&&(l=.75),i.forEach(function(t,e){o=Y[e]/2*l,r.push({name:t.name,size:o,value:t.value})});for(var c=null,f=r.length,h=f-1;h>=0;h--)c=r[h],e.addCircle(c,h,f)}},{key:"addCircle",value:function(t,e,a){var i=this,n=i.zr,o=i.width,r=i.height,s=new X.a.Group;s.position[0]=0,s.position[1]=0;var l=q[e][0]*o,c=q[e][1]*r;c+t.size+10>r?c=r-t.size-10:c<t.size+10&&(c=t.size+10),l+t.size+10>o&&(l=o-t.size-10),t.x2=l,t.y2=c;var f=J.fillColors[e]||J.default.fillColor,h=J.strokeColors[e]||J.default.strokeColor,u=J.shadowColors[e]||J.default.shadowColor,d=.2+(a-e)/a*.6,m=new X.a.Circle({shape:{cx:l,cy:c,r:t.size},style:{fill:f,shadowBlur:25,shadowColor:u,text:t.name,fontSize:t.size/2,textFill:"#ffffff",stroke:h,lineWidth:2,opacity:d}});s.add(m),s.on("mouseover",function(e){var a=new Event("showTip",{bubbles:!0,cancelable:!1});a.payload={x:e.offsetX,y:e.offsetY,text:t.name+"："+t.value},document.dispatchEvent(a),m.animateTo({shape:{r:1.2*t.size,opacity:d+.2}})}),s.on("mouseout",function(e){var a=new Event("hideTip",{bubbles:!0,cancelable:!1});a.payload={x:e.offsetX,y:e.offsetY,text:t.name+"："+t.value},document.dispatchEvent(a),m.animateTo({shape:{r:t.size,opacity:d}})}),n.add(s)}}]),t}(),tt=l["a"].HOME,et=Object(s["a"])(tt).mapState,at="cityDatas",it="$store.state.".concat(tt,".").concat(at),nt="originDataFullState",ot="$store.state.".concat(tt,".").concat(nt),rt="$store.state.windowResizeState",st={name:"HomeOriginData",computed:Object(u["a"])({},et([nt,at]),Object(s["c"])(["smallScreen","miniScreen"])),watch:(W={},Object(h["a"])(W,it,function(){this.doInitOrRefreshChart()}),Object(h["a"])(W,ot,function(){this.doInitOrRefreshChart()}),Object(h["a"])(W,rt,function(){this.doInitOrRefreshChart()}),W),data:function(){return{tip:{x:"0",y:"0",isShow:!1,content:""},container:null,dataList:[],chart:null}},created:function(){var t=this;document.addEventListener("showTip",t.doShowTip),document.addEventListener("hideTip",t.doHideTip)},mounted:function(){var t=this;t.$nextTick(function(){t.container=t.$refs.container;var e=t[at];e.length&&!t.chart&&t.init(e)})},methods:{doInitOrRefreshChart:function(){var t=this,e=t[at];e&&e.length&&t.container&&(t.chart?t.refresh(e):t.init(e));for(var a=[],i=0;a.length<9&&i<e.length;i++)e[i].name&&a.push(e[i]);console.log("refresh...",a),t.dataList=a},init:function(t){var e=this;e.chart=new Z(e.container),e.chart.draw(t)},refresh:function(t){var e=this;setTimeout(function(){e.chart.refresh(t)},300)},doFullStateChange:function(t){var e=this;e.$store.commit(tt+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:nt,state:t})},doShowTip:function(t){var e=t.payload,a=e.x,i=e.y,n=e.text,o=this.tip;o.x=a-0+"px",o.y=i-0+"px",o.content=n,o.isShow=!0},doHideTip:function(t){var e=this.tip;e.isShow=!1}},beforeDestroy:function(){var t=this;document.removeEventListener("showTip",t.doShowTip),document.removeEventListener("hideTip",t.doHideTip)}},lt=st,ct=Object(_["a"])(lt,M,P,!1,null,null,null),ft=ct.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plane",{staticClass:"plant-distribute-wrap no-border",attrs:{full:t.mapFullState}},[a("WuyishanMap",{attrs:{curr:t.currSelectedRegion,full:t.mapFullState},on:{change:t.doMapChange}})],1)},ut=[],dt=a("df170"),mt=l["a"].HOME,vt=Object(s["a"])(mt).mapState,pt="mapFullState",xt={name:"HomeMap",components:{WuyishanMap:dt["a"]},computed:Object(u["a"])({},vt(["currSelectedRegion",pt])),methods:{doMapChange:function(t){var e=this,a=e.$store;a.commit(mt+"/"+r["a"].HOME_CHANGE_CURR_REGION,t),a.dispatch(mt+"/"+r["a"].HOME_GET_DATA,t)},doFullStateChange:function(t){var e=this;e.$store.commit(mt+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:pt,state:t})}}},bt=xt,gt=Object(_["a"])(bt,ht,ut,!1,null,null,null),St=gt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plane",{staticClass:"warehouse-info-wrap",attrs:{full:t.warehouseFullState}},[a("PlaneTitle",[t._v("入库出库")]),a("div",{staticClass:"chart-unit"},[t._v("单位："+t._s(t.warehouseUnit))]),a("ul",{staticClass:"total-data"},[a("li",[a("i"),a("i"),a("div",[t._v(t._s(t.outStockWeight))]),a("div",[t._v("总出库")])]),a("li",[a("i"),a("i"),a("div",[t._v(t._s(t.inStockWeight))]),a("div",[t._v("总入库")])])]),a("div",{ref:"container",staticClass:"plane-content",class:{hide:!t.warehouseDatas.in.length}}),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:t.warehouseDatas.in.length,expression:"warehouseDatas.in.length"}],attrs:{full:t.warehouseFullState},on:{change:t.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.warehouseDatas.in.length,expression:"!warehouseDatas.in.length"}],staticClass:"iconfont null-data-tag"},[t._v("")])],1)},wt=[],Ot=l["a"].HOME,Ct=Object(s["a"])(Ot).mapState,_t="warehouseDatas",zt="warehouseFullState",At="$store.state.".concat(Ot),Lt="".concat(At,".").concat(_t),kt="".concat(At,".").concat(zt),Tt="$store.state.windowResizeState",Dt={name:"HomeWarehouse",computed:Object(u["a"])({},Ct(["warehouseUnit",zt,_t,"inStockWeight","outStockWeight"]),Object(s["c"])(["smallScreen","miniScreen"])),watch:(G={},Object(h["a"])(G,Lt,function(){this.doInitOrRefreshChart()}),Object(h["a"])(G,kt,function(){this.doInitOrRefreshChart()}),Object(h["a"])(G,Tt,function(){this.doInitOrRefreshChart()}),G),data:function(){return{container:null,chart:null}},mounted:function(){var t=this;t.$nextTick(function(){t.container=t.$refs.container,t.doInitOrRefreshChart()})},methods:{doInitOrRefreshChart:function(){var t=this,e=t[_t];if(e){var a=t.container;if(a){var i=t.handleChartData(e),n=i.values,o=i.titles,r=t.getBaseOptions(n,o);t.fixOptions(r,o,n),t.chart?(t.chart.setOption(r),setTimeout(function(){t.chart.resize()},200)):(t.chart=d["a"].init(a),t.chart.setOption(r))}}},getBaseOptions:function(t,e){var a=this.warehouseUnit,i=Object(m["a"])([].concat(Object(T["a"])(t[0]),Object(T["a"])(t[1])),4,.2),n=i.min,o=i.max,r=i.interval;return{tooltip:{trigger:"axis",formatter:function(t){return t.map(function(t){return t.name+t.seriesName+"："+t.value+a}).join("<br/>")},backgroundColor:"rgba(0, 159, 253, 0.9)",axisPointer:{lineStyle:{color:"rgba(238,238,238,0.4)"}},textStyle:{fontSize:14}},grid:{top:60,bottom:10,left:160,right:12,containLabel:!0},xAxis:{data:e,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{margin:8,textStyle:{color:"#fff",fontSize:12}}},yAxis:{min:n,max:o,interval:r,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:8,textStyle:{color:"#fff",fontSize:12}},splitLine:{show:!0,lineStyle:{type:"dosh",color:"rgba(255, 255, 255, 0.2)",width:.5}}},color:["#00e0ef","#e2b53d"],series:[{name:"入库",type:"line",symbolSize:10,symbol:"circle",data:t[0],lineStyle:{width:2},itemStyle:{normal:{label:{color:"#fff",show:!0,position:"outside",fontSize:11}}},areaStyle:{normal:{color:new d["a"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 224, 239, 0.6)"},{offset:1,color:"rgba(0, 224, 239, 0.1)"}],!1)}}},{name:"出库",type:"line",symbolSize:10,symbol:"circle",data:t[1],lineStyle:{width:2},itemStyle:{normal:{label:{color:"#fff",show:!0,position:"outside",fontSize:11,offset:[0,28]}}},areaStyle:{normal:{color:new d["a"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(226, 181, 61, 0.6)"},{offset:1,color:"rgba(226, 181, 61, 0.1)"}],!1)}}}]}},fixOptions:function(t,e,a){var i=this;if(i[zt])if(i.smallScreen||i.miniScreen)t.grid={top:65,bottom:20,left:260,right:25,containLabel:!0};else{var n=Object(m["a"])([].concat(Object(T["a"])(a[0]),Object(T["a"])(a[1])),8,.2),o=n.min,r=n.max,s=n.interval;t.grid={top:65,bottom:20,left:260,right:25,containLabel:!0},t.tooltip.textStyle.fontSize=18,t.xAxis.axisLabel.margin=12,t.xAxis.axisLabel.textStyle.fontSize=15,t.yAxis.min=o,t.yAxis.max=r,t.yAxis.interval=s,t.yAxis.axisLabel.margin=12,t.yAxis.axisLabel.textStyle.fontSize=15,t.series[0].itemStyle.normal.label.fontSize=14,t.series[1].itemStyle.normal.label.fontSize=14}else if(i.miniScreen){var l=Object(m["a"])([].concat(Object(T["a"])(a[0]),Object(T["a"])(a[1])),3,.2),c=l.min,f=l.max,h=l.interval;t.grid={top:60,bottom:0,left:115,right:8,containLabel:!0},t.tooltip.textStyle.fontSize=10,t.xAxis.axisLabel.margin=7,t.xAxis.axisLabel.textStyle.fontSize=9,t.yAxis.min=c,t.yAxis.max=f,t.yAxis.interval=h,t.yAxis.axisLabel.margin=7,t.yAxis.axisLabel.textStyle.fontSize=9,t.series[0].itemStyle.normal.label.show=!1,t.series[1].itemStyle.normal.label.show=!1,t.series[0].symbolSize=6,t.series[1].symbolSize=6,t.series[0].lineStyle.width=1,t.series[1].lineStyle.width=1}else if(i.smallScreen){var u=Object(m["a"])([].concat(Object(T["a"])(a[0]),Object(T["a"])(a[1])),3,.2),d=u.min,v=u.max,p=u.interval;t.grid={top:55,bottom:0,left:120,right:8,containLabel:!0},t.tooltip.textStyle.fontSize=12,t.xAxis.axisLabel.margin=9,t.xAxis.axisLabel.textStyle.fontSize=11,t.yAxis.min=d,t.yAxis.max=v,t.yAxis.interval=p,t.yAxis.axisLabel.margin=9,t.yAxis.axisLabel.textStyle.fontSize=11,t.series[0].itemStyle.normal.label.show=!1,t.series[1].itemStyle.normal.label.show=!1,t.series[0].symbolSize=9,t.series[1].symbolSize=9}},handleChartData:function(t){var e=[],a=[[],[]];return t.in.forEach(function(t){e.push(t.omonth+"月"),a[0].push(t.weight?t.weight.toFixed(2)-0:0)}),t.out.forEach(function(t){a[1].push(t.weight?t.weight.toFixed(2)-0:0)}),{titles:e,values:a}},doFullStateChange:function(t){this.$store.commit(Ot+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:zt,state:t})}}},jt=Dt,Et=Object(_["a"])(jt,yt,wt,!1,null,null,null),It=Et.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plane",{staticClass:"amount-rank-wrap",attrs:{full:t.amountRankFullState}},[a("PlaneTitle",[t._v("茶树排行")]),a("div",{staticClass:"chart-unit"},[t._v("单位："+t._s(t.amountRankUnit))]),a("div",{ref:"container",staticClass:"plane-content",class:{hide:!t.amountRankDatas.length}}),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:t.amountRankDatas.length,expression:"amountRankDatas.length"}],attrs:{full:t.amountRankFullState},on:{change:t.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.amountRankDatas.length,expression:"!amountRankDatas.length"}],staticClass:"iconfont null-data-tag"},[t._v("")])],1)},Ft=[],Mt=l["a"].HOME,Pt=Object(s["a"])(Mt).mapState,$t="amountRankDatas",Ht="amountRankFullState",Nt="$store.state.".concat(Mt),Wt="".concat(Nt,".").concat($t),Gt="".concat(Nt,".").concat(Ht),Bt="$store.state.windowResizeState",Ut={name:"HomeAmountRank",computed:Object(u["a"])({},Pt(["amountRankUnit",Ht,$t]),Object(s["c"])(["smallScreen","miniScreen"])),watch:(B={},Object(h["a"])(B,Wt,function(){this.doInitOrRefreshChart()}),Object(h["a"])(B,Gt,function(){this.doInitOrRefreshChart()}),Object(h["a"])(B,Bt,function(){this.doInitOrRefreshChart()}),B),data:function(){return{container:null,chart:null}},mounted:function(){var t=this;t.$nextTick(function(){t.container=t.$refs.container,t.doInitOrRefreshChart()})},methods:{doInitOrRefreshChart:function(){var t=this,e=t[$t];if(e&&e.length){var a=t.container;if(a){var i=t.handleChartData(e),n=i.titles,o=i.values,r=i.serialData,s=t.getBaseOptions(e,n,o,r);t.fixOptions(s,e,n,o),t.chart?setTimeout(function(){t.chart.resize(),t.chart.setOption(s),t.chart.resize()},200):(t.chart=d["a"].init(a),t.chart.setOption(s))}}},getBaseOptions:function(t,e,a,i){var n=Object(m["a"])(a,6),o=n.min,r=n.max,s=n.interval,l=["#ff5f6c","#fac720","#1cd782"];return{grid:{top:8,left:10,right:30,bottom:3,containLabel:!0},tooltip:{trigger:"axis",formatter:function(e){return t[e[0].dataIndex].town+"："+e[0].data+"亩"},backgroundColor:"rgba(0, 159, 253, 0.9)",axisPointer:{lineStyle:{color:"rgba(238, 238, 238, 0.4)"}},textStyle:{fontSize:14}},xAxis:{show:!0,min:o,max:r,interval:s,splitLine:{show:!0,lineStyle:{type:"dosh",color:"rgba(255, 255, 255, 0.2)",width:.5}},axisLine:{show:!1},axisLabel:{margin:2,textStyle:{color:"#fff",fontSize:11}}},yAxis:{show:!0,data:e,inverse:!0,axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:function(t,e){return l[e]||"#fff"},textStyle:{fontSize:11},margin:8}},series:[{type:"bar",barGap:"-100%",data:t.map(function(t){return r}),barWidth:9,silent:!0,itemStyle:{normal:{barBorderRadius:30,color:"#0a3189"}}},{type:"bar",yAxisIndex:0,data:i,barWidth:9,itemStyle:{normal:{barBorderRadius:30,color:"#1b99f0"}},label:{normal:{show:!1,position:"insideLeft",formatter:function(t){return"".concat(t.value," 亩")},color:"#fff",fontSize:12,offset:[10,1]}}}]}},fixOptions:function(t,e,a,i){var n=this;if(n[Ht])if(n.smallScreen||n.miniScreen){t.grid={top:25,left:20,right:50,bottom:20,containLabel:!0};var o=Object(m["a"])(i,8),r=o.min,s=o.max,l=o.interval;t.xAxis.min=r,t.xAxis.max=s,t.xAxis.interval=l,t.series[0].data=e.map(function(t){return s})}else{var c=Object(m["a"])(i,10),f=c.min,h=c.max,u=c.interval;t.grid={top:18,left:20,right:45,bottom:18,containLabel:!0},t.series[0].barWidth=18,t.series[0].data=e.map(function(t){return h}),t.series[1].barWidth=18,t.series[1].label.normal.fontSize=16,t.yAxis.axisLabel.margin=12,t.yAxis.axisLabel.textStyle.fontSize=15,t.xAxis.min=f,t.xAxis.max=h,t.xAxis.interval=u,t.xAxis.axisLabel.margin=12,t.xAxis.axisLabel.textStyle.fontSize=15,t.tooltip.textStyle.fontSize=18}else if(n.miniScreen){var d=Object(m["a"])(i,3),v=d.min,p=d.max,x=d.interval;t.grid={top:2,left:0,right:18,bottom:0,containLabel:!0},t.series[0].barWidth=6,t.series[0].data=e.map(function(t){return p}),t.series[1].barWidth=6,t.series[1].label.normal.fontSize=7,t.yAxis.axisLabel.margin=2,t.yAxis.axisLabel.textStyle.fontSize=8,t.xAxis.min=v,t.xAxis.max=p,t.xAxis.interval=x,t.xAxis.axisLabel.margin=0,t.xAxis.axisLabel.textStyle.fontSize=8,t.tooltip.textStyle.fontSize=10}else if(n.smallScreen){var b=Object(m["a"])(i,4,.1),g=b.min,S=b.max,y=b.interval;t.grid={top:5,left:0,right:20,bottom:0,containLabel:!0},t.series[0].barWidth=8,t.series[0].data=e.map(function(t){return S}),t.series[1].barWidth=8,t.series[1].label.normal.fontSize=8,t.yAxis.axisLabel.margin=2,t.yAxis.axisLabel.textStyle.fontSize=8,t.xAxis.min=g,t.xAxis.max=S,t.xAxis.interval=y,t.xAxis.axisLabel.margin=2,t.xAxis.axisLabel.textStyle.fontSize=8,t.tooltip.textStyle.fontSize=12}},handleChartData:function(t){var e=[],a=[],i=[],n=["#ff5f6c","#fac720","#1cd782"];return t.forEach(function(t,o){t.town.length<=4?e.push(t.town):e.push(t.town.slice(0,4)+"..."),a.push(t.area),i.push({value:t.area,itemStyle:{color:n[o]||"#1b99f0"}})}),{titles:e,values:a,serialData:i}},doFullStateChange:function(t){var e=this;e.$store.commit(Mt+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:Ht,state:t})}}},Vt=Ut,Kt=Object(_["a"])(Vt,Rt,Ft,!1,null,null,null),Xt=Kt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plane",{staticClass:"pick-info-wrap",attrs:{full:t.pickInfoFullState}},[a("PlaneTitle",[t._v("采摘信息")]),a("div",{staticClass:"plane-content",class:{hide:!t.pickDatas.length}},[a("div",{ref:"container",staticClass:"chart-container"}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pickDatas.length,expression:"pickDatas.length"}],staticClass:"chart-title"},[a("div",[t._v(t._s(t.teaTotalAmount)),a("span",[t._v(t._s(t.pickDataUnit))])]),a("h4",[t._v("总产量")])]),a("ul",{staticClass:"rank-list",class:{gap:t.rankDataList.length<=4}},t._l(t.rankDataList,function(e,i){return a("li",{key:i},[a("div",[a("span",[t._v(t._s(i+1))]),a("i",{staticClass:"iconfont"},[t._v("")])]),a("div",[t._v(t._s(e.name))]),a("div",[a("div",{style:{width:e.ratio}})]),a("div",[t._v(t._s(e.ratio))])])}),0)]),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:t.pickDatas.length,expression:"pickDatas.length"}],attrs:{full:t.pickInfoFullState},on:{change:t.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.pickDatas.length,expression:"!pickDatas.length"}],staticClass:"iconfont null-data-tag"},[t._v("")])],1)},Yt=[],qt=(a("8c55"),l["a"].HOME),Qt=Object(s["a"])(qt).mapState,Zt="pickPieDatas",te="pickInfoFullState",ee="$store.state.".concat(qt),ae="".concat(ee,".").concat(Zt),ie="".concat(ee,".").concat(te),ne="$store.state.windowResizeState",oe={name:"HomePickInfo",computed:Object(u["a"])({},Qt(["teaTotalAmount",te,Zt,"pickDataUnit","pickDatas"]),{rankDataList:function(){var t=this,e=t.$store.state[qt]["pickDatas"],a=e.reduce(function(t,e){return t+e.value},0),i=[];return e.forEach(function(t,e){e<6&&i.push({name:t.label,ratio:(t.value/a*100).toFixed(1)+"%"})}),i}},Object(s["c"])(["smallScreen","miniScreen"])),watch:(U={},Object(h["a"])(U,ae,function(){this.doInitOrRefreshChart()}),Object(h["a"])(U,ie,function(){this.doInitOrRefreshChart()}),Object(h["a"])(U,ne,function(){this.doInitOrRefreshChart()}),U),data:function(){return{container:null,chart:null}},mounted:function(){var t=this;t.$nextTick(function(){t.container=t.$refs.container,t.doInitOrRefreshChart()})},methods:{doInitOrRefreshChart:function(){var t=this,e=t[Zt];if(e&&e.length){var a=t.container;if(a){var i=t.handleChartData(e),n=i.seriesData,o=i.legendData,r=t.getBaseOptions(n,o);t.fixOptions(r,n,o),t.chart?(t.chart.setOption(r),setTimeout(function(){t.chart.resize()},200)):(t.chart=d["a"].init(a),t.chart.setOption(r))}}},getBaseOptions:function(t,e){return{tooltip:{trigger:"item",show:!0,formatter:"{b}：{c}吨",backgroundColor:"rgba(0, 159, 253, 0.9)",textStyle:{fontSize:14}},legend:{show:!0,data:e,orient:"horizontal",right:"3%",bottom:0,itemGap:8,itemWidth:8,textStyle:{color:"#e0e0e0",fontSize:12,padding:[2,0,0,0]}},series:[{type:"pie",radius:["52%","74%"],center:["76%","46%"],label:{show:!1},color:["#ff5f6c","#1cd782","#fac720","#294dd8","#15467d"],data:t,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},fixOptions:function(t,e,a){var i=this;i[te]?i.smallScreen||i.miniScreen||(t.tooltip.textStyle.fontSize=18,t.legend.bottom="4.5%",t.legend.right="14.5%",t.legend.textStyle.fontSize=15,t.legend.itemWidth=14,t.legend.itemGap=25,t.legend.textStyle.padding=[2,0,0,5]):i.miniScreen?(t.series[0].center[0]="60%",t.legend.textStyle.fontSize=10):i.smallScreen&&(t.legend.textStyle.fontSize=11)},refresh:function(t){var e=this,a=e.chart,i=e.handleChartData(t),n=i.seriesData,o=i.legendData,r=null,s=e.miniScreen;r=e[te]?{tooltip:{textStyle:{fontSize:18}},series:[{center:[s?"38%":"76%","46%"],radius:["51%","75%"],data:n}],legend:{data:o,right:"15%",itemGap:20,bottom:20,textStyle:{fontSize:16}}}:{tooltip:{textStyle:{fontSize:14}},series:[{center:[s?"38%":"76%","46%"],radius:["51%",s?"80%":"75%"],data:n}],legend:{data:o,right:s?0:"3%",itemGap:s?5:8,bottom:0,textStyle:{fontSize:12,padding:[2,0,0,0]}}},a.setOption(r),setTimeout(function(){a.resize()},200)},handleChartData:function(t){for(var e=[],a=[],i=null,n=0;n<t.length;n++)i=t[n],a.push({name:i.label,value:i.value}),e.push({name:i.label,icon:"circle"});return{legendData:e,seriesData:a}},doFullStateChange:function(t){var e=this;e.$store.commit(qt+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:te,state:t})}}},re=oe,se=Object(_["a"])(re,Jt,Yt,!1,null,null,null),le=se.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plane",{staticClass:"level-info-wrap",attrs:{full:t.levelInfoFullState}},[a("PlaneTitle",[t._v("制茶工艺")]),a("div",{ref:"container",staticClass:"plane-content",class:{hide:!t.levelDatas.length}}),a("ul",{staticClass:"legend-list"},t._l(t.legendData,function(e){return a("li",{key:e.name},[a("div",[t._v(t._s(e.ratio))]),a("div",[t._v(t._s(e.name))]),a("div",[t._v(t._s(e.value)+"吨")])])}),0),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:t.levelDatas.length,expression:"levelDatas.length"}],attrs:{full:t.levelInfoFullState},on:{change:t.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.levelDatas.length,expression:"!levelDatas.length"}],staticClass:"iconfont null-data-tag"},[t._v("")])],1)},fe=[],he=(a("b745"),l["a"].HOME),ue=Object(s["a"])(he).mapState,de="levelDatas",me="levelInfoFullState",ve="$store.state.".concat(he),pe="".concat(ve,".").concat(de),xe="".concat(ve,".").concat(me),be="$store.state.windowResizeState",ge={name:"HomeLevelInfo",computed:Object(u["a"])({},ue(["teaTotalAmount",me,de]),Object(s["c"])(["smallScreen","miniScreen"])),watch:(V={},Object(h["a"])(V,pe,function(){this.doInitOrRefreshChart()}),Object(h["a"])(V,xe,function(){this.doInitOrRefreshChart()}),Object(h["a"])(V,be,function(){this.doInitOrRefreshChart()}),V),data:function(){return{container:null,chart:null,legendData:[]}},mounted:function(){var t=this;t.$nextTick(function(){t.container=t.$refs.container,t.doInitOrRefreshChart()})},methods:{doInitOrRefreshChart:function(){var t=this,e=t[de];if(e&&e.length){var a=t.container;if(a){var i=t.handleChartData(e),n=i.seriesData,o=i.legendData,r=t.getBaseOptions(n);t.fixOptions(r,n),t.legendData=o,t.chart?(t.chart.setOption(r),setTimeout(function(){t.chart.resize()},200)):(t.chart=d["a"].init(a),t.chart.setOption(r))}}},getBaseOptions:function(t){return{tooltip:{trigger:"item",show:!0,formatter:"{b}：{c}吨",backgroundColor:"rgba(0, 159, 253, 0.9)",textStyle:{fontSize:14}},legend:{show:!1},series:[{type:"pie",radius:["51%","75%"],center:["28%","50%"],label:{show:!1},color:["#ff5f6c","#fac720","#1cd782","#407fff","#a682e6","#00cccd"],data:t,itemStyle:{normal:{shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:12}}}]}},fixOptions:function(t,e){var a=this;a[me]&&(a.smallScreen||a.miniScreen||(t.tooltip.textStyle.fontSize=18))},handleChartData:function(t){for(var e=[],a=[],i=null,n=0,o=0,r=t.reduce(function(t,e){return t+(e.gravity?e.gravity-0:0)},0),s=0;s<t.length;s++)i=t[s],n=i.gravity?i.gravity.toFixed(2):0,a.push({name:i.grade,value:n-0}),o=n-0,o>=1e4&&(o=(o/1e4).toFixed(1)+"万"),e.push({name:i.grade,ratio:((n-0)/r*100).toFixed(2)+"%",value:o,realValue:n-0});return a.sort(function(t,e){return t.value>e.value?-1:1}),e.sort(function(t,e){return t.realValue>e.realValue?-1:1}),{legendData:e,seriesData:a}},doFullStateChange:function(t){var e=this;e.$store.commit(he+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:me,state:t})}}},Se=ge,ye=Object(_["a"])(Se,ce,fe,!1,null,null,null),we=ye.exports,Oe=l["a"].HOME,Ce=(Object(s["a"])(Oe).mapState,{name:"HomeIndex",components:{FarmingInfo:A,Iot:F,OriginData:ft,Map:St,WarehouseInfo:It,AmountRank:Xt,PickInfo:le,LevelInfo:we},created:function(){var t=this,e=t.$store;e.commit(r["a"].SWITCH_LOADING,!1),e.dispatch(Oe+"/"+r["a"].HOME_GET_DATA)},beforeDestroy:function(){var t=this,e=t.$store;e.commit(Oe+"/"+r["a"].HOME_CHANGE_CURR_REGION,"");var a=["mapFullState","amountRankFullState","farmingInfoFullState","pickInfoFullState","warehouseFullState","originDataFullState","levelInfoFullState"];a.forEach(function(t){e.commit(Oe+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:t,state:!1})})}}),_e=Ce,ze=(a("6362"),Object(_["a"])(_e,n,o,!1,null,null,null));e["default"]=ze.exports},"8e1f":function(t,e,a){var i=a("45e2"),n=Math.cos,o=Math.sin,r=i.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(t,e){var a,i,r,s,l=e.r,c=e.r0,f=e.d,h=e.cx,u=e.cy,d="out"===e.location?1:-1;if(!(e.location&&l<=c)){var m,v=0,p=1;a=(l+d*c)*n(0)-d*f*n(0)+h,i=(l+d*c)*o(0)-f*o(0)+u,t.moveTo(a,i);do{v++}while(c*v%(l+d*c)!==0);do{m=Math.PI/180*p,r=(l+d*c)*n(m)-d*f*n((l/c+d)*m)+h,s=(l+d*c)*o(m)-f*o((l/c+d)*m)+u,t.lineTo(r,s),p++}while(p<=c*v/(l+d*c)*360)}}});t.exports=r},a614:function(t,e,a){var i=a("45e2"),n=Math.sin,o=Math.cos,r=Math.PI/180,s=i.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var a,i,s,l=e.r,c=e.k,f=e.n,h=e.cx,u=e.cy;t.moveTo(h,u);for(var d=0,m=l.length;d<m;d++){s=l[d];for(var v=0;v<=360*f;v++)a=s*n(c/f*v%360*r)*o(v*r)+h,i=s*n(c/f*v%360*r)*n(v*r)+u,t.lineTo(a,i)}}});t.exports=s},b120:function(t,e,a){var i=a("45e2"),n=i.extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var a=e.cx,i=e.cy,n=e.width,o=e.height;t.moveTo(a,i+n),t.bezierCurveTo(a+n,i+n,a+3*n/2,i-n/3,a,i-o),t.bezierCurveTo(a-3*n/2,i-n/3,a-n,i+n,a,i+n),t.closePath()}});t.exports=n},db44:function(t,e,a){var i=a("3d51");e.util=i;var n=a("4358");e.matrix=n;var o=a("2859");e.vector=o;var r=a("6b7b");e.color=r;var s=a("3e5b");e.path=s;var l=a("be65");l.parseSVG;e.parseSVG=l.parseSVG;var c=a("a26b");e.Group=c;var f=a("45e2");e.Path=f;var h=a("6ac9");e.Image=h;var u=a("a67f");e.CompoundPath=u;var d=a("0061");e.Text=d;var m=a("743e");e.IncrementalDisplayable=m;var v=a("d3b9");e.Arc=v;var p=a("86d7");e.BezierCurve=p;var x=a("54a5");e.Circle=x;var b=a("b120");e.Droplet=b;var g=a("dc44");e.Ellipse=g;var S=a("54c4");e.Heart=S;var y=a("435e");e.Isogon=y;var w=a("932f");e.Line=w;var O=a("7cc2");e.Polygon=O;var C=a("ad92");e.Polyline=C;var _=a("e7da");e.Rect=_;var z=a("ad2a");e.Ring=z;var A=a("a614");e.Rose=A;var L=a("07bf");e.Sector=L;var k=a("f94f");e.Star=k;var T=a("8e1f");e.Trochoid=T;var D=a("7cfb");e.LinearGradient=D;var j=a("b909");e.RadialGradient=j;var E=a("e452");e.Pattern=E;var I=a("ec6c");e.BoundingRect=I},df170:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wuyishan-map-container"},[a("div",{ref:"bg"}),a("div",{ref:"container"}),a("div",{staticClass:"curr-region-data"},[a("div",[a("h3",{directives:[{name:"show",rawName:"v-show",value:""==t.curr,expression:"curr==''"}]},[t._v("武夷山")]),a("h3",{directives:[{name:"show",rawName:"v-show",value:""!=t.curr,expression:"curr!=''"}]},[a("div",{on:{click:function(e){return t.doClickMap("")}}},[t._v("武夷山")]),a("div",{staticClass:"point"}),t._v(t._s(t.curr))]),a("div",[a("div",[t._v("茶园")]),t._v("："+t._s(t.gardenTotal)+"家")]),a("div",[a("div",[t._v("总面积")]),t._v("："+t._s(t.gardenArea)+"亩")])]),t.plantArea.length?a("div",[a("h3",[t._v("种植品种")]),t._l(t.plantArea,function(e){return a("div",{key:e.type},[a("div",{attrs:{title:e.type}},[t._v(t._s(e.type))]),a("div",[t._v("："+t._s(e.area)+"亩")])])})],2):t._e()])])},n=[],o=(a("f763"),a("7364"),a("7a59"),a("e20c")),r=a("3604"),s=a("1a1e"),l=a("591a"),c=["","星村镇","兴田镇","洋庄乡","五夫镇","上梅乡","岚谷乡","吴屯乡","新丰街道","崇安街道","武夷街道"],f={name:"WuyishanMap",computed:Object(o["a"])({},Object(l["c"])(["gardenArea","gardenTotal","plantArea"])),props:{curr:{type:String,default:"",required:!0},full:{type:Boolean,default:!1}},data:function(){return{bgChart:null,chart:null,currSelectedRegion:"",mapRegions:function(){var t=[];return c.forEach(function(e){e&&t.push({name:e,selected:!1,itemStyle:{areaColor:"#162c6a"}})}),t}(),currPlaceIndex:0,timer:null,autoChange:!1}},created:function(){var t=this;if(t.curr)for(var e=0;e<t.mapRegions.length;e++)if(t.mapRegions[e].name==t.curr){t.mapRegions[e].selected=!0;break}document.addEventListener("keypress",t.doHandleKeyPress)},mounted:function(){var t=this;t.$nextTick(function(){t.$refs;r["a"].getMap("wuyishan")?t.doRenderMap():t.$ajax({url:"./map.json"}).then(function(e){r["a"].registerMap("wuyishan",e),t.doRenderMap()})})},methods:{doRenderMap:function(){var t=this,e=t.$refs;t.bgChart=r["a"].init(e.bg),t.bgChart.setOption({backgroundColor:"transparent",geo:{map:"wuyishan",itemStyle:{color:"#1e4f69",opacity:1,borderWidth:2,borderColor:"#1e4f69"},zoom:1.21,roam:!1}}),t.chart=r["a"].init(t.$refs.container);var a={backgroundColor:"transparent",geo:{map:"wuyishan",selectedMode:"single",itemStyle:{emphasis:{areaColor:"#02b9e1",borderWidth:1.5,borderColor:"#ffffff"},normal:{areaColor:"#162c62",borderColor:"#01bde5",borderWidth:1.5}},label:{normal:{show:!1},emphasis:{show:!1}},regions:t.mapRegions,roam:!1,zoom:1.2},series:[{type:"effectScatter",coordinateSystem:"geo",label:{show:!0,position:"bottom",offset:[0,5],formatter:"{b}",fontWeight:"lighter",fontSize:14,color:"#bff4ff"},symbol:"circle",symbolSize:12,itemStyle:{color:{type:"radial",x:.5,y:.3,r:.5,colorStops:[{offset:.35,color:"#ffffff"},{offset:.4,color:"#69e7fc"},{offset:1,color:"#69e7fc"}]},shadowColor:"rgba(255,255,255,0.8)",shadowBlur:10},rippleEffect:{period:1e6,scale:1},silent:!0,data:[{name:"星村镇",value:[117.82302442,27.6698720185]},{name:"洋庄乡",value:[117.89302442,27.8698720185]},{name:"岚谷乡",value:[118.19302442,27.9798720185]},{name:"兴田镇",value:[117.97902442,27.5598720185]},{name:"五夫镇",value:[118.23902442,27.6198720185]},{name:"上梅乡",value:[118.20902442,27.7298720185]},{name:"武夷街道",value:[117.99902442,27.6908720185]},{name:"吴屯乡",value:[118.10992442,27.8608720185]},{name:"新丰街道",value:[118.03992442,27.8208720185]},{name:"崇安街道",value:[118.01992442,27.7582720185]}]}]},i=t.$store.state;i.smallScreen?(a.geo.itemStyle.normal.borderWidth=1,a.geo.itemStyle.emphasis.borderWidth=1,a.series[0].symbolSize=10,a.series[0].label.fontSize=12,a.series[0].label.offset=[0,3]):i.miniScreen&&(a.geo.itemStyle.normal.borderWidth=.5,a.geo.itemStyle.emphasis.borderWidth=.5,a.series[0].symbolSize=9,a.series[0].label.fontSize=12,a.series[0].label.offset=[0,2]),t.chart.setOption(a),t.chart.on("click",function(e){t.doClickMap(e.name)}),window.addEventListener("resize",t.refresh)},doClickMap:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,a=this;a.curr==t&&(t="");var i=a.chart,n=i.getOption();a.mapRegions.forEach(function(e){e.selected=e.name==t});var o=n.series[0].data;if(o.forEach(function(e){e.name==t?(e.label={color:"#ffffff"},e.itemStyle={color:{type:"radial",x:.5,y:.3,r:.5,colorStops:[{offset:.35,color:"#ffffff"},{offset:.4,color:"#3572be"},{offset:1,color:"#3572be"}]},shadowColor:"rgba(0,0,0,0.5)"}):(e.label&&delete e.label,e.itemStyle&&delete e.itemStyle)}),i.setOption({geo:{regions:a.mapRegions},series:[{data:o}]}),a.$emit("change",t),!e)for(var r=0;r<c.length;r++)if(c[r]==t){a.currPlaceIndex=r;break}},doClearMap:function(){var t=this;t.doClickMap("")},refresh:function(){var t=this;setTimeout(function(){t.bgChart&&t.bgChart.resize();var e=null,a=t.$store.state;e=a.smallScreen?{series:[{symbolSize:10,label:{fontSize:12,offset:[0,3]}}]}:a.miniScreen?{series:[{symbolSize:9,label:{fontSize:12,offset:[0,2]}}]}:{series:[{symbolSize:12,label:{fontSize:14,offset:[0,5]}}]},t.chart&&(t.chart.setOption(e),t.chart.resize())},120)},doAutoChange:function(){var t=this;t.currPlaceIndex++,t.currPlaceIndex>10&&(t.currPlaceIndex=0),t.doClickMap(c[t.currPlaceIndex],!0),t.timer=setTimeout(function(){t.doAutoChange()},s["a"].mapAutoChangeTime)},doHandleKeyPress:function(t){var e=this;32==t.keyCode&&e.chart&&(e.autoChange?e.timer&&clearInterval(e.timer):e.doAutoChange(),e.autoChange=!e.autoChange)}},beforeDestroy:function(){var t=this;window.removeEventListener("resize",t.refresh),document.removeEventListener("keypress",t.doHandleKeyPress),t.timer&&clearInterval(t.timer)}},h=f,u=a("17cc"),d=Object(u["a"])(h,i,n,!1,null,null,null);e["a"]=d.exports},f94f:function(t,e,a){var i=a("45e2"),n=Math.PI,o=Math.cos,r=Math.sin,s=i.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(t,e){var a=e.n;if(a&&!(a<2)){var i=e.cx,s=e.cy,l=e.r,c=e.r0;null==c&&(c=a>4?l*o(2*n/a)/o(n/a):l/3);var f=n/a,h=-n/2,u=i+l*o(h),d=s+l*r(h);h+=f,t.moveTo(u,d);for(var m,v=0,p=2*a-1;v<p;v++)m=v%2===0?c:l,t.lineTo(i+m*o(h),s+m*r(h)),h+=f;t.closePath()}}});t.exports=s}}]);