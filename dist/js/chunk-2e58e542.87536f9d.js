(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e58e542"],{1294:function(e,t,a){"use strict";var i=a("b2f5"),n=a("2d43")(2);i(i.P+i.F*!a("119c")([].filter,!0),"Array",{filter:function(e){return n(this,e,arguments[1])}})},"185c":function(e,t,a){},"30a8":function(e,t,a){var i=a("962f");(function(){for(var e in i){if(null==i||!i.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=i[e]}})();var n=a("db44");(function(){for(var e in n){if(null==n||!n.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=n[e]}})(),a("27e7"),a("7e1d")},"435e":function(e,t,a){var i=a("45e2"),n=Math.PI,o=Math.sin,r=Math.cos,l=i.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(e,t){var a=t.n;if(a&&!(a<2)){var i=t.x,l=t.y,s=t.r,c=2*n/a,h=-n/2;e.moveTo(i+s*r(h),l+s*o(h));for(var u=0,f=a-1;u<f;u++)h+=c,e.lineTo(i+s*r(h),l+s*o(h));e.closePath()}}});e.exports=l},"54c4":function(e,t,a){var i=a("45e2"),n=i.extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var a=t.cx,i=t.cy,n=t.width,o=t.height;e.moveTo(a,i),e.bezierCurveTo(a+n/2,i-2*o/3,a+2*n,i+o/3,a,i+o),e.bezierCurveTo(a-2*n,i+o/3,a-n/2,i-2*o/3,a,i)}});e.exports=n},6362:function(e,t,a){"use strict";var i=a("185c"),n=a.n(i);n.a},"8a00":function(e,t,a){"use strict";a.r(t);var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page home-page"},[a("div",[a("AmountRank"),a("FarmingInfo"),a("PickInfo")],1),a("div",[a("Map"),a("WarehouseInfo")],1),a("div",[a("OriginData"),a("Iot"),a("LevelInfo")],1)])},o=[],r=(a("7a59"),a("eb57")),l=a("591a"),s=a("0706"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Plane",{staticClass:"farming-info-wrap",attrs:{full:e.farmingInfoFullState}},[a("PlaneTitle",[e._v("施肥信息")]),a("div",{staticClass:"chart-unit"},[e._v("单位：kg")]),a("div",{ref:"container",staticClass:"plane-content",class:{hide:!e.farmingActdatas.length}}),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:e.farmingActdatas.length,expression:"farmingActdatas.length"}],attrs:{full:e.farmingInfoFullState},on:{change:e.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.farmingActdatas.length,expression:"!farmingActdatas.length"}],staticClass:"iconfont null-data-tag"},[e._v("")])],1)},h=[],u=(a("f763"),a("cb1d")),f=a("e20c"),d=a("3604"),m=a("f1ed"),v=s["a"].HOME,p=Object(l["a"])(v).mapState,g="farmingActdatas",b="farmingInfoFullState",S="$store.state.".concat(v),y="".concat(S,".").concat(g),x="".concat(S,".").concat(b),w="$store.state.windowResizeState",C={name:"HomeFarmingInfo",computed:Object(f["a"])({},p([b,g]),Object(l["c"])(["smallScreen","miniScreen"])),watch:(i={},Object(u["a"])(i,y,function(){this.doInitOrRefreshChart()}),Object(u["a"])(i,x,function(){this.doInitOrRefreshChart()}),Object(u["a"])(i,w,function(){this.doInitOrRefreshChart()}),i),data:function(){return{container:null,chart:null}},mounted:function(){var e=this;e.$nextTick(function(){e.container=e.$refs.container,e.doInitOrRefreshChart()})},methods:{doInitOrRefreshChart:function(){var e=this,t=e[g];if(t&&t.length){var a=e.container;if(a){var i=e.handleChartData(t),n=i.values,o=i.titles,r=e.getBaseOptions(n,o);e.fixOptions(r,o,n),e.chart?(e.chart.setOption(r),setTimeout(function(){e.chart.resize()},200)):(e.chart=d["a"].init(a),e.chart.setOption(r))}}},getBaseOptions:function(e,t){var a=Object(m["a"])(e,4,.5),i=a.min,n=a.max,o=a.interval;return{grid:{top:18,left:12,right:12,bottom:3,containLabel:!0},tooltip:{trigger:"axis",formatter:"{b}：{c}kg",backgroundColor:"rgba(0, 159, 253, 0.9)",axisPointer:{lineStyle:{color:"rgba(238, 238, 238, 0.4)"}},textStyle:{fontSize:14}},xAxis:{type:"category",data:t,boundaryGap:!0,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{margin:8,textStyle:{color:"#fff",fontSize:12}}},yAxis:{show:!0,min:i,max:n,interval:o,splitLine:{show:!0,lineStyle:{type:"dosh",color:"rgba(255, 255, 255, 0.2)",width:.5}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,margin:8,textStyle:{color:"#fff",fontSize:12}}},series:[{smooth:!0,type:"line",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"#02b9e1",label:{show:!0,position:"outside",fontSize:12,color:"#ffffff"}}},data:e,lineStyle:{width:2,color:"rgb(153, 227, 253)"},areaStyle:{normal:{color:new d["a"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(153, 228, 253, 0.6)"},{offset:1,color:"rgba(45, 80, 131, 0.1)"}],!1)}}}]}},fixOptions:function(e,t,a){var i=this;if(i[b])if(i.smallScreen||i.miniScreen)e.grid={top:25,left:25,right:25,bottom:20,containLabel:!0};else{var n=Object(m["a"])(a,6,.5),o=n.min,r=n.max,l=n.interval;e.grid={top:30,left:25,right:25,bottom:20,containLabel:!0},e.series[0].symbolSize=14,e.series[0].itemStyle.normal.label.fontSize=14,e.xAxis.axisLabel.margin=12,e.xAxis.axisLabel.textStyle.fontSize=15,e.yAxis.min=o,e.yAxis.max=r,e.yAxis.interval=l,e.yAxis.axisLabel.margin=12,e.yAxis.axisLabel.textStyle.fontSize=15,e.tooltip.textStyle.fontSize=18}else if(i.miniScreen){var s=Object(m["a"])(a,3,.5),c=s.min,h=s.max,u=s.interval;e.grid={top:14,left:2,right:8,bottom:3,containLabel:!0},e.series[0].symbolSize=6,e.series[0].itemStyle.normal.label.fontSize=10,e.series[0].lineStyle.width=1,e.xAxis.axisLabel.margin=7,e.xAxis.axisLabel.textStyle.fontSize=9,e.yAxis.min=c,e.yAxis.max=h,e.yAxis.interval=u,e.yAxis.axisLabel.margin=7,e.yAxis.axisLabel.textStyle.fontSize=9,e.tooltip.textStyle.fontSize=10}else if(i.smallScreen){var f=Object(m["a"])(a,3,.5),d=f.min,v=f.max,p=f.interval;e.grid={top:16,left:6,right:8,bottom:3,containLabel:!0},e.series[0].symbolSize=9,e.series[0].itemStyle.normal.label.fontSize=11,e.xAxis.axisLabel.margin=9,e.xAxis.axisLabel.textStyle.fontSize=11,e.yAxis.min=d,e.yAxis.max=v,e.yAxis.interval=p,e.yAxis.axisLabel.margin=9,e.yAxis.axisLabel.textStyle.fontSize=11,e.tooltip.textStyle.fontSize=12}},handleChartData:function(e){var t=[],a=[];return e.forEach(function(e){t.push(e.label+"月"),a.push(e.value.toFixed(0)-0)}),{titles:t,values:a}},doFullStateChange:function(e){this.$store.commit(v+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:b,state:e})}}},O=C,_=a("17cc"),z=Object(_["a"])(O,c,h,!1,null,null,null),k=z.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Plane",{staticClass:"iot-wrap"},[a("PlaneTitle",[e._v("物联监控")]),a("div",{staticClass:"plane-content",class:{hide:!e.iotDatas.length}},[a("div",{staticClass:"left"},[a("div"),a("div",[a("h3",[e._v(e._s(e.monitorAmount+e.cameraAmount))]),a("div",[e._v("总设备")])]),e._l(e.iotDatas,function(t){return a("div",{key:t.type,class:"dot "+t.type+" "+t.size},[a("div"),a("div",[e._v(e._s(t.name))]),a("div",[e._v(e._s(t.data))])])})],2),a("router-link",{staticClass:"right",attrs:{to:{name:"iot"},tag:"ul"}},[a("li",[a("div",[e._v("监测站设备")]),a("div",[e._v(e._s(e.monitorAmount))])]),a("li",[a("div",[e._v("摄像头设备")]),a("div",[e._v(e._s(e.cameraAmount))])])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.iotDatas.length,expression:"!iotDatas.length"}],staticClass:"iconfont null-data-tag"},[e._v("")])],1)},A=[],L=(a("7364"),a("4964")),D=(a("11ac"),s["a"].HOME),E=Object(l["a"])(D).mapState,R={name:"HomeIot",computed:Object(f["a"])({},E(["cameraAmount","monitorAmount"]),{iotDatas:function(){var e=this.$store.state[D].iotDatas;if(e.length){var t=e.map(function(e){return e.data}),a=Math.max.apply(Math,Object(L["a"])(t)),i=0;return e.map(function(e){return a<10?i=0:e.data>=.8*a?i=3:e.data>=.6*a?i=2:e.data>=.4*a&&(i=1),{name:e.name,data:e.data,type:e.type,size:"s".concat(i)}})}return[]}})},j=R,I=Object(_["a"])(j,T,A,!1,null,null,null),M=I.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Plane",{staticClass:"origin-wrap",attrs:{full:e.originDataFullState}},[a("PlaneTitle",[e._v("溯源排行")]),a("div",{ref:"container",staticClass:"plane-content",class:{hide:!e.cityDatas.length}}),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:e.cityDatas.length,expression:"cityDatas.length"}],attrs:{full:e.originDataFullState},on:{change:e.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.cityDatas.length,expression:"!cityDatas.length"}],staticClass:"iconfont null-data-tag"},[e._v("")]),a("div",{staticClass:"pop-tip",class:{active:e.tip.isShow},style:{left:e.tip.x,top:e.tip.y}},[e._v(e._s(e.tip.content))])],1)},P=[];a("8c55");function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function N(e,t,a){return t&&H(e.prototype,t),a&&H(e,a),e}var G,W,B,U,V,X=a("30a8"),Y=a.n(X),K=32,J=20,q=(K+J)/2,Q={fillColors:["#dc5568","#d7ae27","#45c6b2"],strokeColors:["#c0405b","#c29b1e","#2c8291"],shadowColors:["rgba(220, 85, 104, 0.7)","rgba(215,174,39,0.7)","rgba(69, 198, 178, 0.7)"],default:{fillColor:"#01195a",strokeColor:"#38539d",shadowColor:"rgba(56,83,157,0.7)"}},Z={circleStrokeColors:["#c0405b","#c29b1e","#2c8291"],smallCircleFillColors:["#dc5568","#d7ae27","#45c6b2"],default:{circleStrokeColor:"#5768b9",smallCircleFillColor:"#38539d"}},ee=[[.25,.5],[.26,.74],[.15,.44],[.22,.2],[.14,.25],[.17,.62],[.1,.67],[.175,.82],[.32,.86],[.3,.14]],te=Y.a.Path.extend({type:"halfCircle",shape:{cx:0,cy:0,r:10},buildPath:function(e,t){var a=t.cx,i=t.cy,n=t.r;e.arc(a,i,n,Math.PI,0),e.moveTo(a-n,i),e.lineTo(a+n,i),e.closePath()}}),ae=Y.a.Path.extend({type:"customBezierCurve",shape:{x1:0,y1:0,x2:100,y2:100,cx1:0,cx2:0,cy1:0,cy2:0},buildPath:function(e,t){e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cx1,t.cy1,t.cx2,t.cy2,t.x2,t.y2)}}),ie=function(){function e(t){$(this,e),this.container=t,this.zr=Y.a.init(t),this.width=0,this.height=0,this.dataList=[]}return N(e,[{key:"refresh",value:function(e){this.zr.clear(),this.dataList=[],this.zr.resize(),this.draw(e)}},{key:"draw",value:function(e){var t=this,a=t.zr;t.width=a.getWidth(),t.height=a.getHeight(),t.width>900?(K=52,J=30,q=(K+J)/2):t.width>450?(K=32,J=20,q=(K+J)/2):(K=26,J=18,q=(K+J)/2);var i=e.reduce(function(e,t){return e+t.value},0),n=0;n=i/e.length;var o=0,r=this.dataList;e.forEach(function(e){e.name&&(o=parseInt(e.value/n*q),o<J?o=J:o>K&&(o=K),r.push({name:e.name,size:o,value:e.value,cSize:.7*o}))});for(var l=null,s=r.length,c=s-1;c>=0;c--)l=r[c],t.addCircle(l,c,s),c<10&&(t.addPerson(l,c,s),c<5&&t.addLinkLine(l,c,s))}},{key:"addCircle",value:function(e,t,a){var i=this,n=i.zr,o=i.width,r=i.height,l=new Y.a.Group;l.position[0]=0,l.position[1]=0;var s=.6*o+(.3333*o-15)*Math.random(),c=30+(r-30)*Math.random();c+e.size+10>r?c=r-e.size-10:c<e.size+10&&(c=e.size+10),s+e.size+10>o&&(s=o-e.size-10),e.x2=s,e.y2=c;var h=Q.fillColors[t]||Q.default.fillColor,u=Q.strokeColors[t]||Q.default.strokeColor,f=Q.shadowColors[t]||Q.default.shadowColor,d=.2+(a-t)/a*.6,m=new Y.a.Circle({shape:{cx:s,cy:c,r:e.size},style:{fill:h,shadowBlur:25,shadowColor:f,text:e.name,fontSize:e.size/2,textFill:"#ffffff",stroke:u,lineWidth:2,opacity:d}});l.add(m),l.on("mouseover",function(t){var a=new Event("showTip",{bubbles:!0,cancelable:!1});a.payload={x:t.offsetX,y:t.offsetY,text:e.name+"："+e.value},document.dispatchEvent(a),m.animateTo({shape:{r:1.2*e.size,opacity:d+.2}})}),l.on("mouseout",function(t){var a=new Event("hideTip",{bubbles:!0,cancelable:!1});a.payload={x:t.offsetX,y:t.offsetY,text:e.name+"："+e.value},document.dispatchEvent(a),m.animateTo({shape:{r:e.size,opacity:d}})}),n.add(l)}},{key:"addPerson",value:function(e,t,a){var i=this,n=i.zr,o=i.width,r=i.height,l=new Y.a.Group;l.position[0]=0,l.position[1]=0;var s=ee[t][0]*o,c=ee[t][1]*r;c+e.cSize+15>r?c=r-e.cSize-15:c<e.cSize+15&&(c=e.cSize+15),s-e.cSize-25<0&&(s=e.cSize+25),e.x1=s,e.y1=c;var h=Z.circleStrokeColors[t]||Z.default.circleStrokeColor,u=Z.smallCircleFillColors[t]||Z.default.smallCircleFillColor,f=Q.shadowColors[t]||Q.default.shadowColor,d=.2+(a-t)/a*.6,m=new Y.a.Circle({shape:{cx:s,cy:c,r:e.cSize},style:{fill:"rgba(0,0,0,0)",shadowBlur:15,shadowColor:f,stroke:u,lineWidth:2,opacity:d}});l.add(m);var v=e.cSize/2.7,p=c-e.cSize+4+v;l.add(new Y.a.Circle({shape:{cx:s,cy:p,r:v},style:{fill:h,shadowBlur:0,opacity:d}}));var g=e.cSize-v,b=p+v+g;l.add(new te({shape:{cx:s,cy:b,r:g},style:{opacity:d,stroke:"rgba(0,0,0,0)",fill:h}})),t<5&&(l.on("mouseover",function(t){var a=new Event("showTip",{bubbles:!0,cancelable:!1});a.payload={x:t.offsetX,y:t.offsetY,text:e.name+"："+e.value},document.dispatchEvent(a),m.animateTo({shape:{r:1.2*e.cSize,opacity:d+.2}})}),l.on("mouseout",function(t){var a=new Event("hideTip",{bubbles:!0,cancelable:!1});a.payload={x:t.offsetX,y:t.offsetY,text:e.name+"："+e.value},document.dispatchEvent(a),m.animateTo({shape:{r:e.cSize,opacity:d}})})),n.add(l)}},{key:"addLinkLine",value:function(e,t,a){var i=this,n=i.zr,o=new Y.a.Group;o.position[0]=0,o.position[1]=0;var r=Z.circleStrokeColors[t]||Z.default.circleStrokeColor,l=.2+(a-t)/a*.6,s=e.x1+e.cSize+10,c=e.y1-8+8*Math.random(),h=e.x2-e.size-10,u=e.y2-8+8*Math.random(),f=h-s,d=s+.333*f,m=s+.666*f,v=u,p=c;Math.abs(c,u)<60&&(v=u-40,p=c+40),o.add(new ae({shape:{x1:s,y1:c,x2:h,y2:u,cx1:d,cx2:m,cy1:v,cy2:p},style:{opacity:l,stroke:r,lineWidth:2,fill:"rgba(0,0,0,0)"}})),o.add(new Y.a.Circle({shape:{cx:s,cy:c,r:4},style:{fill:r,shadowBlur:0,opacity:l}})),o.add(new Y.a.Circle({shape:{cx:h,cy:u,r:4},style:{fill:r,shadowBlur:0,opacity:l}})),n.add(o)}}]),e}(),ne=s["a"].HOME,oe=Object(l["a"])(ne).mapState,re="cityDatas",le="$store.state.".concat(ne,".").concat(re),se="originDataFullState",ce="$store.state.".concat(ne,".").concat(se),he="$store.state.windowResizeState",ue={name:"HomeOriginData",computed:Object(f["a"])({},oe([se,re]),Object(l["c"])(["smallScreen","miniScreen"])),watch:(G={},Object(u["a"])(G,le,function(){this.doInitOrRefreshChart()}),Object(u["a"])(G,ce,function(){this.doInitOrRefreshChart()}),Object(u["a"])(G,he,function(){this.doInitOrRefreshChart()}),G),data:function(){return{tip:{x:"0",y:"0",isShow:!1,content:""},container:null,chart:null}},created:function(){var e=this;document.addEventListener("showTip",e.doShowTip),document.addEventListener("hideTip",e.doHideTip)},mounted:function(){var e=this;e.$nextTick(function(){e.container=e.$refs.container;var t=e[re];t.length&&!e.chart&&e.init(t)})},methods:{doInitOrRefreshChart:function(){var e=this,t=e[re];t&&t.length&&e.container&&(e.chart?e.refresh(t):e.init(t))},init:function(e){var t=this;t.chart=new ie(t.container),t.chart.draw(e)},refresh:function(e){var t=this;setTimeout(function(){t.chart.refresh(e)},300)},doFullStateChange:function(e){var t=this;t.$store.commit(ne+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:se,state:e})},doShowTip:function(e){var t=e.payload,a=t.x,i=t.y,n=t.text,o=this.tip;o.x=a-20+"px",o.y=i-20+"px",o.content=n,o.isShow=!0},doHideTip:function(e){var t=this.tip;t.isShow=!1}},beforeDestroy:function(){var e=this;document.removeEventListener("showTip",e.doShowTip),document.removeEventListener("hideTip",e.doHideTip)}},fe=ue,de=Object(_["a"])(fe,F,P,!1,null,null,null),me=de.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Plane",{staticClass:"plant-distribute-wrap no-border",attrs:{full:e.mapFullState}},[a("WuyishanMap",{attrs:{curr:e.currSelectedRegion,full:e.mapFullState},on:{change:e.doMapChange}})],1)},pe=[],ge=a("df170"),be=s["a"].HOME,Se=Object(l["a"])(be).mapState,ye="mapFullState",xe={name:"HomeMap",components:{WuyishanMap:ge["a"]},computed:Object(f["a"])({},Se(["currSelectedRegion",ye])),methods:{doMapChange:function(e){var t=this,a=t.$store;a.commit(be+"/"+r["a"].HOME_CHANGE_CURR_REGION,e),a.dispatch(be+"/"+r["a"].HOME_GET_DATA,e)},doFullStateChange:function(e){var t=this;t.$store.commit(be+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:ye,state:e})}}},we=xe,Ce=Object(_["a"])(we,ve,pe,!1,null,null,null),Oe=Ce.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Plane",{staticClass:"warehouse-info-wrap",attrs:{full:e.warehouseFullState}},[a("PlaneTitle",[e._v("入库出库")]),a("div",{staticClass:"chart-unit"},[e._v("单位："+e._s(e.warehouseUnit))]),a("ul",{staticClass:"total-data"},[a("li",[a("i"),a("i"),a("div",[e._v(e._s(e.outStockWeight))]),a("div",[e._v("总出库")])]),a("li",[a("i"),a("i"),a("div",[e._v(e._s(e.inStockWeight))]),a("div",[e._v("总入库")])])]),a("div",{ref:"container",staticClass:"plane-content",class:{hide:!e.warehouseDatas.in.length}}),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:e.warehouseDatas.in.length,expression:"warehouseDatas.in.length"}],attrs:{full:e.warehouseFullState},on:{change:e.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.warehouseDatas.in.length,expression:"!warehouseDatas.in.length"}],staticClass:"iconfont null-data-tag"},[e._v("")])],1)},ze=[],ke=s["a"].HOME,Te=Object(l["a"])(ke).mapState,Ae="warehouseDatas",Le="warehouseFullState",De="$store.state.".concat(ke),Ee="".concat(De,".").concat(Ae),Re="".concat(De,".").concat(Le),je="$store.state.windowResizeState",Ie={name:"HomeWarehouse",computed:Object(f["a"])({},Te(["warehouseUnit",Le,Ae,"inStockWeight","outStockWeight"]),Object(l["c"])(["smallScreen","miniScreen"])),watch:(W={},Object(u["a"])(W,Ee,function(){this.doInitOrRefreshChart()}),Object(u["a"])(W,Re,function(){this.doInitOrRefreshChart()}),Object(u["a"])(W,je,function(){this.doInitOrRefreshChart()}),W),data:function(){return{container:null,chart:null}},mounted:function(){var e=this;e.$nextTick(function(){e.container=e.$refs.container,e.doInitOrRefreshChart()})},methods:{doInitOrRefreshChart:function(){var e=this,t=e[Ae];if(t){var a=e.container;if(a){var i=e.handleChartData(t),n=i.values,o=i.titles,r=e.getBaseOptions(n,o);e.fixOptions(r,o,n),e.chart?(e.chart.setOption(r),setTimeout(function(){e.chart.resize()},200)):(e.chart=d["a"].init(a),e.chart.setOption(r))}}},getBaseOptions:function(e,t){var a=this.warehouseUnit,i=Object(m["a"])([].concat(Object(L["a"])(e[0]),Object(L["a"])(e[1])),4,.2),n=i.min,o=i.max,r=i.interval;return{tooltip:{trigger:"axis",formatter:function(e){return e.map(function(e){return e.name+e.seriesName+"："+e.value+a}).join("<br/>")},backgroundColor:"rgba(0, 159, 253, 0.9)",axisPointer:{lineStyle:{color:"rgba(238,238,238,0.4)"}},textStyle:{fontSize:14}},grid:{top:60,bottom:10,left:160,right:12,containLabel:!0},xAxis:{data:t,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{margin:8,textStyle:{color:"#fff",fontSize:12}}},yAxis:{min:n,max:o,interval:r,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:8,textStyle:{color:"#fff",fontSize:12}},splitLine:{show:!0,lineStyle:{type:"dosh",color:"rgba(255, 255, 255, 0.2)",width:.5}}},color:["#00e0ef","#e2b53d"],series:[{name:"入库",type:"line",symbolSize:10,symbol:"circle",data:e[0],lineStyle:{width:2},itemStyle:{normal:{label:{color:"#fff",show:!0,position:"outside",fontSize:11}}},areaStyle:{normal:{color:new d["a"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 224, 239, 0.6)"},{offset:1,color:"rgba(0, 224, 239, 0.1)"}],!1)}}},{name:"出库",type:"line",symbolSize:10,symbol:"circle",data:e[1],lineStyle:{width:2},itemStyle:{normal:{label:{color:"#fff",show:!0,position:"outside",fontSize:11,offset:[0,28]}}},areaStyle:{normal:{color:new d["a"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(226, 181, 61, 0.6)"},{offset:1,color:"rgba(226, 181, 61, 0.1)"}],!1)}}}]}},fixOptions:function(e,t,a){var i=this;if(i[Le])if(i.smallScreen||i.miniScreen)e.grid={top:65,bottom:20,left:260,right:25,containLabel:!0};else{var n=Object(m["a"])([].concat(Object(L["a"])(a[0]),Object(L["a"])(a[1])),8,.2),o=n.min,r=n.max,l=n.interval;e.grid={top:65,bottom:20,left:260,right:25,containLabel:!0},e.tooltip.textStyle.fontSize=18,e.xAxis.axisLabel.margin=12,e.xAxis.axisLabel.textStyle.fontSize=15,e.yAxis.min=o,e.yAxis.max=r,e.yAxis.interval=l,e.yAxis.axisLabel.margin=12,e.yAxis.axisLabel.textStyle.fontSize=15,e.series[0].itemStyle.normal.label.fontSize=14,e.series[1].itemStyle.normal.label.fontSize=14}else if(i.miniScreen){var s=Object(m["a"])([].concat(Object(L["a"])(a[0]),Object(L["a"])(a[1])),3,.2),c=s.min,h=s.max,u=s.interval;e.grid={top:60,bottom:0,left:115,right:8,containLabel:!0},e.tooltip.textStyle.fontSize=10,e.xAxis.axisLabel.margin=7,e.xAxis.axisLabel.textStyle.fontSize=9,e.yAxis.min=c,e.yAxis.max=h,e.yAxis.interval=u,e.yAxis.axisLabel.margin=7,e.yAxis.axisLabel.textStyle.fontSize=9,e.series[0].itemStyle.normal.label.show=!1,e.series[1].itemStyle.normal.label.show=!1,e.series[0].symbolSize=6,e.series[1].symbolSize=6,e.series[0].lineStyle.width=1,e.series[1].lineStyle.width=1}else if(i.smallScreen){var f=Object(m["a"])([].concat(Object(L["a"])(a[0]),Object(L["a"])(a[1])),3,.2),d=f.min,v=f.max,p=f.interval;e.grid={top:55,bottom:0,left:120,right:8,containLabel:!0},e.tooltip.textStyle.fontSize=12,e.xAxis.axisLabel.margin=9,e.xAxis.axisLabel.textStyle.fontSize=11,e.yAxis.min=d,e.yAxis.max=v,e.yAxis.interval=p,e.yAxis.axisLabel.margin=9,e.yAxis.axisLabel.textStyle.fontSize=11,e.series[0].itemStyle.normal.label.show=!1,e.series[1].itemStyle.normal.label.show=!1,e.series[0].symbolSize=9,e.series[1].symbolSize=9}},handleChartData:function(e){var t=[],a=[[],[]];return e.in.forEach(function(e){t.push(e.omonth+"月"),a[0].push(e.weight?e.weight.toFixed(2)-0:0)}),e.out.forEach(function(e){a[1].push(e.weight?e.weight.toFixed(2)-0:0)}),{titles:t,values:a}},doFullStateChange:function(e){this.$store.commit(ke+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:Le,state:e})}}},Me=Ie,Fe=Object(_["a"])(Me,_e,ze,!1,null,null,null),Pe=Fe.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Plane",{staticClass:"amount-rank-wrap",attrs:{full:e.amountRankFullState}},[a("PlaneTitle",[e._v("茶树排行")]),a("div",{staticClass:"chart-unit"},[e._v("单位：亩")]),a("div",{staticClass:"plane-content",class:{hide:!e.amountRankDatas.length}},[a("ul",{staticClass:"rank-list"},e._l(e.dataList,function(t,i){return a("li",{key:i},[e._v(e._s(t.title)+"（"),a("span",[e._v(e._s(t.data))]),e._v("）")])}),0),a("div",{ref:"container",staticClass:"map-chart"})]),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:e.amountRankDatas.length,expression:"amountRankDatas.length"}],attrs:{full:e.amountRankFullState},on:{change:e.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.amountRankDatas.length,expression:"!amountRankDatas.length"}],staticClass:"iconfont null-data-tag"},[e._v("")])],1)},He=[],Ne=(a("b745"),a("1294"),{"洋庄乡":[117.85302442,27.9298720185],"岚谷乡":[118.24302442,27.9798720185],"兴田镇":[117.97902442,27.5098720185],"五夫镇":[118.23902442,27.6198720185],"上梅乡":[118.20902442,27.7298720185],"武夷街道":[117.99902442,27.6608720185],"吴屯乡":[118.10992442,27.9108720185],"新丰街道":[118.04992442,27.8308720185],"崇安街道":[118.01992442,27.7682720185],"星村镇":[117.72302442,27.6098720185]}),Ge=s["a"].HOME,We=Object(l["a"])(Ge).mapState,Be="amountRankDatas",Ue="amountRankFullState",Ve="$store.state.".concat(Ge),Xe="".concat(Ve,".").concat(Be),Ye="".concat(Ve,".").concat(Ue),Ke="$store.state.windowResizeState",Je={name:"HomeAmountRank",computed:Object(f["a"])({},We(["amountRankUnit",Ue,Be,"amountRankMainDatas","currSelectedRegion"]),Object(l["c"])(["smallScreen","miniScreen"])),watch:(B={},Object(u["a"])(B,Xe,function(){this.doInitOrRefreshChart()}),Object(u["a"])(B,Ye,function(){this.doInitOrRefreshChart()}),Object(u["a"])(B,Ke,function(){this.doInitOrRefreshChart()}),B),data:function(){return{container:null,chart:null,dataList:[]}},mounted:function(){var e=this;e.$nextTick(function(){e.container=e.$refs.container;var t=e[Be];t.length&&!e.chart&&e.init(t)})},methods:{doInitOrRefreshChart:function(){var e=this,t=e[Be];t&&t.length&&e.container&&(e.chart?e.refresh(t):e.init(t))},init:function(e){var t=this;t.getRankListData(e),d["a"].getMap("wuyishan")?t.doRenderMap():t.$ajax({url:"./map.json"}).then(function(e){d["a"].registerMap("wuyishan",e),t.doRenderMap()})},doRenderMap:function(){var e=this,t=e.container;e.chart=d["a"].init(t);var a=e.getMapData();e.chart.setOption({backgroundColor:"transparent",geo:{map:"wuyishan",itemStyle:{color:"rgba(0,0,0,0)",opacity:1,borderWidth:.5,borderColor:"#07376a"},zoom:1.16,roam:!1,emphasis:{label:{show:!1},itemStyle:{color:"rgba(0,0,0,0)"}}},tooltip:{formatter:function(e){return e.name+"："+e.data.area+"亩"},backgroundColor:"rgba(0, 159, 253, 0.9)",axisPointer:{lineStyle:{color:"rgba(238, 238, 238, 0.4)"}},textStyle:{fontSize:14}},series:[{type:"effectScatter",coordinateSystem:"geo",label:{show:!0,position:"inside",offset:[0,0]},symbol:"circle",symbolSize:40,itemStyle:{color:"#01195a",shadowColor:"rgba(255,255,255,0.4)",shadowBlur:5},rippleEffect:{period:1e6,scale:1},data:a,emphasis:{itemStyle:{borderWidth:.5,borderColor:"rgba(255,255,255,0.5)"}}}]})},refresh:function(e){var t=this,a=t.chart;t.getRankListData(e);var i=t.getMapData();a.setOption({series:{data:i},tooltip:{textStyle:{fontSize:t[Ue]?18:14}},geo:{itemStyle:{borderColor:t[Ue]?"rgba(255,255,255,0.12)":"#07376a"}}}),setTimeout(function(){a.resize()},100)},getMapData:function(){var e=this,t=e.amountRankMainDatas,a=t.filter(function(t){return""==e.currSelectedRegion||e.currSelectedRegion==t.town}),i=Math.max.apply(Math,Object(L["a"])(a.map(function(e){return e.area}))),n=[],o=null,r=0,l=["#ff5f6c","#1cd782","#fac720"],s="",c="",h=10,u=14,f=80,d=24,m=16,v=14;e[Ue]?(f=150,d=60,m=26,v=19):e.smallScreen?(f=60,d=20,m=14,v=12):e.miniScreen&&(f=50,d=15,m=12,v=9);var p=0;return a.forEach(function(e,t){o={name:e.town,value:Ne[e.town],area:e.area,label:{},itemStyle:{}},1==a.length&&("兴田镇"==e.town?o.value=[117.97902442,27.5798720185]:"岚谷乡"==e.town&&(o.value=[118.24302442,27.9098720185])),r=f*e.area/i,r<d&&(r=d),o.symbolSize=r,c=e.area.toFixed(0),o.label.formatter="{a|".concat(e.town,"}\n{b|").concat(c,"}"),s=l[t]||"#ffffff",h=.27*r,h<6?h=6:h>v&&(h=v),u=.32*r,u<7?u=7:u>m&&(u=m),p=r>80?6:r>60?5:r>40?3:r>35?2:0,o.label.rich={a:{fontSize:h,color:s,align:"center",padding:[p,0,0,0]},b:{fontSize:u,color:s,align:"center",fontWeight:"normal"}},0==t&&(o.itemStyle={shadowColor:"rgba(255,255,255,0.5)",shadowBlur:10}),n.push(o)}),n.reverse()},getRankListData:function(e){var t=this,a=[],i="";e.forEach(function(e,n){n<10&&(i=t.amountRankFullState||e.town.length<7?e.town:e.town.substring(0,6)+"...",a.push({title:i,data:e.area}))}),a.sort(function(e,t){return e.data>t.data?-1:1}),t.dataList=a},doFullStateChange:function(e){var t=this;t.$store.commit(Ge+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:Ue,state:e})}}},qe=Je,Qe=Object(_["a"])(qe,$e,He,!1,null,null,null),Ze=Qe.exports,et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Plane",{staticClass:"pick-info-wrap",attrs:{full:e.pickInfoFullState}},[a("PlaneTitle",[e._v("采摘信息")]),a("div",{staticClass:"plane-content",class:{hide:!e.pickDatas.length}},[a("div",{ref:"container",staticClass:"chart-container"}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.pickDatas.length,expression:"pickDatas.length"}],staticClass:"chart-title"},[a("div",[e._v(e._s(e.teaTotalAmount)),a("span",[e._v(e._s(e.pickDataUnit))])]),a("h4",[e._v("总产量")])]),a("ul",{staticClass:"rank-list",class:{gap:e.rankDataList.length<=4}},e._l(e.rankDataList,function(t,i){return a("li",{key:i},[a("div",[a("span",[e._v(e._s(i+1))]),a("i",{staticClass:"iconfont"},[e._v("")])]),a("div",[e._v(e._s(t.name))]),a("div",[a("div",{style:{width:t.ratio}})]),a("div",[e._v(e._s(t.ratio))])])}),0)]),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:e.pickDatas.length,expression:"pickDatas.length"}],attrs:{full:e.pickInfoFullState},on:{change:e.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.pickDatas.length,expression:"!pickDatas.length"}],staticClass:"iconfont null-data-tag"},[e._v("")])],1)},tt=[],at=s["a"].HOME,it=Object(l["a"])(at).mapState,nt="pickPieDatas",ot="pickInfoFullState",rt="$store.state.".concat(at),lt="".concat(rt,".").concat(nt),st="".concat(rt,".").concat(ot),ct="$store.state.windowResizeState",ht={name:"HomePickInfo",computed:Object(f["a"])({},it(["teaTotalAmount",ot,nt,"pickDataUnit","pickDatas"]),{rankDataList:function(){var e=this,t=e.$store.state[at]["pickDatas"],a=t.reduce(function(e,t){return e+t.value},0),i=[];return t.forEach(function(e,t){t<6&&i.push({name:e.label,ratio:(e.value/a*100).toFixed(1)+"%"})}),i}},Object(l["c"])(["smallScreen","miniScreen"])),watch:(U={},Object(u["a"])(U,lt,function(){this.doInitOrRefreshChart()}),Object(u["a"])(U,st,function(){this.doInitOrRefreshChart()}),Object(u["a"])(U,ct,function(){this.doInitOrRefreshChart()}),U),data:function(){return{container:null,chart:null}},mounted:function(){var e=this;e.$nextTick(function(){e.container=e.$refs.container,e.doInitOrRefreshChart()})},methods:{doInitOrRefreshChart:function(){var e=this,t=e[nt];if(t&&t.length){var a=e.container;if(a){var i=e.handleChartData(t),n=i.seriesData,o=i.legendData,r=e.getBaseOptions(n,o);e.fixOptions(r,n,o),e.chart?(e.chart.setOption(r),setTimeout(function(){e.chart.resize()},200)):(e.chart=d["a"].init(a),e.chart.setOption(r))}}},getBaseOptions:function(e,t){return{tooltip:{trigger:"item",show:!0,formatter:"{b}：{c}吨",backgroundColor:"rgba(0, 159, 253, 0.9)",textStyle:{fontSize:14}},legend:{show:!0,data:t,orient:"horizontal",right:"3%",bottom:0,itemGap:8,itemWidth:8,textStyle:{color:"#e0e0e0",fontSize:12,padding:[2,0,0,0]}},series:[{type:"pie",radius:["52%","74%"],center:["76%","46%"],label:{show:!1},color:["#ff5f6c","#1cd782","#fac720","#294dd8","#15467d"],data:e,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},fixOptions:function(e,t,a){var i=this;i[ot]?i.smallScreen||i.miniScreen||(e.tooltip.textStyle.fontSize=18,e.legend.bottom="4.5%",e.legend.right="14.5%",e.legend.textStyle.fontSize=15,e.legend.itemWidth=14,e.legend.itemGap=25,e.legend.textStyle.padding=[2,0,0,5]):i.miniScreen?(e.series[0].center[0]="60%",e.legend.textStyle.fontSize=10):i.smallScreen&&(e.legend.textStyle.fontSize=11)},refresh:function(e){var t=this,a=t.chart,i=t.handleChartData(e),n=i.seriesData,o=i.legendData,r=null,l=t.miniScreen;r=t[ot]?{tooltip:{textStyle:{fontSize:18}},series:[{center:[l?"38%":"76%","46%"],radius:["51%","75%"],data:n}],legend:{data:o,right:"15%",itemGap:20,bottom:20,textStyle:{fontSize:16}}}:{tooltip:{textStyle:{fontSize:14}},series:[{center:[l?"38%":"76%","46%"],radius:["51%",l?"80%":"75%"],data:n}],legend:{data:o,right:l?0:"3%",itemGap:l?5:8,bottom:0,textStyle:{fontSize:12,padding:[2,0,0,0]}}},a.setOption(r),setTimeout(function(){a.resize()},200)},handleChartData:function(e){for(var t=[],a=[],i=null,n=0;n<e.length;n++)i=e[n],a.push({name:i.label,value:i.value}),t.push({name:i.label,icon:"circle"});return{legendData:t,seriesData:a}},doFullStateChange:function(e){var t=this;t.$store.commit(at+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:ot,state:e})}}},ut=ht,ft=Object(_["a"])(ut,et,tt,!1,null,null,null),dt=ft.exports,mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Plane",{staticClass:"level-info-wrap",attrs:{full:e.levelInfoFullState}},[a("PlaneTitle",[e._v("制茶工艺")]),a("div",{ref:"container",staticClass:"plane-content",class:{hide:!e.levelDatas.length}}),a("ul",{staticClass:"legend-list"},e._l(e.legendData,function(t){return a("li",{key:t.name},[a("div",[e._v(e._s(t.ratio))]),a("div",[e._v(e._s(t.name))]),a("div",[e._v(e._s(t.value)+"吨")])])}),0),a("PlaneTools",{directives:[{name:"show",rawName:"v-show",value:e.levelDatas.length,expression:"levelDatas.length"}],attrs:{full:e.levelInfoFullState},on:{change:e.doFullStateChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.levelDatas.length,expression:"!levelDatas.length"}],staticClass:"iconfont null-data-tag"},[e._v("")])],1)},vt=[],pt=s["a"].HOME,gt=Object(l["a"])(pt).mapState,bt="levelDatas",St="levelInfoFullState",yt="$store.state.".concat(pt),xt="".concat(yt,".").concat(bt),wt="".concat(yt,".").concat(St),Ct="$store.state.windowResizeState",Ot={name:"HomeLevelInfo",computed:Object(f["a"])({},gt(["teaTotalAmount",St,bt]),Object(l["c"])(["smallScreen","miniScreen"])),watch:(V={},Object(u["a"])(V,xt,function(){this.doInitOrRefreshChart()}),Object(u["a"])(V,wt,function(){this.doInitOrRefreshChart()}),Object(u["a"])(V,Ct,function(){this.doInitOrRefreshChart()}),V),data:function(){return{container:null,chart:null,legendData:[]}},mounted:function(){var e=this;e.$nextTick(function(){e.container=e.$refs.container,e.doInitOrRefreshChart()})},methods:{doInitOrRefreshChart:function(){var e=this,t=e[bt];if(t&&t.length){var a=e.container;if(a){var i=e.handleChartData(t),n=i.seriesData,o=i.legendData,r=e.getBaseOptions(n);e.fixOptions(r,n),e.legendData=o,e.chart?(e.chart.setOption(r),setTimeout(function(){e.chart.resize()},200)):(e.chart=d["a"].init(a),e.chart.setOption(r))}}},getBaseOptions:function(e){return{tooltip:{trigger:"item",show:!0,formatter:"{b}：{c}吨",backgroundColor:"rgba(0, 159, 253, 0.9)",textStyle:{fontSize:14}},legend:{show:!1},series:[{type:"pie",radius:["51%","75%"],center:["28%","50%"],label:{show:!1},color:["#ff5f6c","#fac720","#1cd782","#407fff","#a682e6","#00cccd"],data:e,itemStyle:{normal:{shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:12}}}]}},fixOptions:function(e,t){var a=this;a[St]&&(a.smallScreen||a.miniScreen||(e.tooltip.textStyle.fontSize=18))},handleChartData:function(e){for(var t=[],a=[],i=null,n=0,o=0,r=e.reduce(function(e,t){return e+(t.gravity?t.gravity-0:0)},0),l=0;l<e.length;l++)i=e[l],n=i.gravity?i.gravity.toFixed(2):0,a.push({name:i.grade,value:n-0}),o=n-0,o>=1e4&&(o=(o/1e4).toFixed(1)+"万"),t.push({name:i.grade,ratio:((n-0)/r*100).toFixed(2)+"%",value:o,realValue:n-0});return a.sort(function(e,t){return e.value>t.value?-1:1}),t.sort(function(e,t){return e.realValue>t.realValue?-1:1}),{legendData:t,seriesData:a}},doFullStateChange:function(e){var t=this;t.$store.commit(pt+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:St,state:e})}}},_t=Ot,zt=Object(_["a"])(_t,mt,vt,!1,null,null,null),kt=zt.exports,Tt=s["a"].HOME,At=(Object(l["a"])(Tt).mapState,{name:"HomeIndex",components:{FarmingInfo:k,Iot:M,OriginData:me,Map:Oe,WarehouseInfo:Pe,AmountRank:Ze,PickInfo:dt,LevelInfo:kt},created:function(){var e=this,t=e.$store;t.commit(r["a"].SWITCH_LOADING,!1),t.dispatch(Tt+"/"+r["a"].HOME_GET_DATA)},beforeDestroy:function(){var e=this,t=e.$store;t.commit(Tt+"/"+r["a"].HOME_CHANGE_CURR_REGION,"");var a=["mapFullState","amountRankFullState","farmingInfoFullState","pickInfoFullState","warehouseFullState","originDataFullState","levelInfoFullState"];a.forEach(function(e){t.commit(Tt+"/"+r["a"].HOME_CHANGE_FULL_STATE,{fullStateName:e,state:!1})})}}),Lt=At,Dt=(a("6362"),Object(_["a"])(Lt,n,o,!1,null,null,null));t["default"]=Dt.exports},"8e1f":function(e,t,a){var i=a("45e2"),n=Math.cos,o=Math.sin,r=i.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(e,t){var a,i,r,l,s=t.r,c=t.r0,h=t.d,u=t.cx,f=t.cy,d="out"===t.location?1:-1;if(!(t.location&&s<=c)){var m,v=0,p=1;a=(s+d*c)*n(0)-d*h*n(0)+u,i=(s+d*c)*o(0)-h*o(0)+f,e.moveTo(a,i);do{v++}while(c*v%(s+d*c)!==0);do{m=Math.PI/180*p,r=(s+d*c)*n(m)-d*h*n((s/c+d)*m)+u,l=(s+d*c)*o(m)-h*o((s/c+d)*m)+f,e.lineTo(r,l),p++}while(p<=c*v/(s+d*c)*360)}}});e.exports=r},a614:function(e,t,a){var i=a("45e2"),n=Math.sin,o=Math.cos,r=Math.PI/180,l=i.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var a,i,l,s=t.r,c=t.k,h=t.n,u=t.cx,f=t.cy;e.moveTo(u,f);for(var d=0,m=s.length;d<m;d++){l=s[d];for(var v=0;v<=360*h;v++)a=l*n(c/h*v%360*r)*o(v*r)+u,i=l*n(c/h*v%360*r)*n(v*r)+f,e.lineTo(a,i)}}});e.exports=l},b120:function(e,t,a){var i=a("45e2"),n=i.extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var a=t.cx,i=t.cy,n=t.width,o=t.height;e.moveTo(a,i+n),e.bezierCurveTo(a+n,i+n,a+3*n/2,i-n/3,a,i-o),e.bezierCurveTo(a-3*n/2,i-n/3,a-n,i+n,a,i+n),e.closePath()}});e.exports=n},db44:function(e,t,a){var i=a("3d51");t.util=i;var n=a("4358");t.matrix=n;var o=a("2859");t.vector=o;var r=a("6b7b");t.color=r;var l=a("3e5b");t.path=l;var s=a("be65");s.parseSVG;t.parseSVG=s.parseSVG;var c=a("a26b");t.Group=c;var h=a("45e2");t.Path=h;var u=a("6ac9");t.Image=u;var f=a("a67f");t.CompoundPath=f;var d=a("0061");t.Text=d;var m=a("743e");t.IncrementalDisplayable=m;var v=a("d3b9");t.Arc=v;var p=a("86d7");t.BezierCurve=p;var g=a("54a5");t.Circle=g;var b=a("b120");t.Droplet=b;var S=a("dc44");t.Ellipse=S;var y=a("54c4");t.Heart=y;var x=a("435e");t.Isogon=x;var w=a("932f");t.Line=w;var C=a("7cc2");t.Polygon=C;var O=a("ad92");t.Polyline=O;var _=a("e7da");t.Rect=_;var z=a("ad2a");t.Ring=z;var k=a("a614");t.Rose=k;var T=a("07bf");t.Sector=T;var A=a("f94f");t.Star=A;var L=a("8e1f");t.Trochoid=L;var D=a("7cfb");t.LinearGradient=D;var E=a("b909");t.RadialGradient=E;var R=a("e452");t.Pattern=R;var j=a("ec6c");t.BoundingRect=j},df170:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wuyishan-map-container"},[a("div",{ref:"bg"}),a("div",{ref:"container"}),a("div",{staticClass:"curr-region-data"},[a("div",[a("h3",[e._v(e._s(e.curr||"武夷山"))]),a("div",[a("div",[e._v("茶园")]),e._v("："+e._s(e.gardenTotal)+"家")]),a("div",[a("div",[e._v("总面积")]),e._v("："+e._s(e.gardenArea)+"亩")])]),e.plantArea.length?a("div",[a("h3",[e._v("种植品种")]),e._l(e.plantArea,function(t){return a("div",{key:t.type},[a("div",{attrs:{title:t.type}},[e._v(e._s(t.type))]),a("div",[e._v("："+e._s(t.area)+"亩")])])})],2):e._e()])])},n=[],o=(a("f763"),a("7364"),a("7a59"),a("e20c")),r=a("3604"),l=a("1a1e"),s=a("591a"),c=["","星村镇","兴田镇","洋庄乡","五夫镇","上梅乡","岚谷乡","吴屯乡","新丰街道","崇安街道","武夷街道"],h={name:"WuyishanMap",computed:Object(o["a"])({},Object(s["c"])(["gardenArea","gardenTotal","plantArea"])),props:{curr:{type:String,default:"",required:!0},full:{type:Boolean,default:!1}},data:function(){return{bgChart:null,chart:null,currSelectedRegion:"",mapRegions:function(){var e=[];return c.forEach(function(t){t&&e.push({name:t,selected:!1,itemStyle:{areaColor:"#162c6a"}})}),e}(),currPlaceIndex:0,timer:null,autoChange:!1}},created:function(){var e=this;if(e.curr)for(var t=0;t<e.mapRegions.length;t++)if(e.mapRegions[t].name==e.curr){e.mapRegions[t].selected=!0;break}document.addEventListener("keypress",e.doHandleKeyPress)},mounted:function(){var e=this;e.$nextTick(function(){e.$refs;r["a"].getMap("wuyishan")?e.doRenderMap():e.$ajax({url:"./map.json"}).then(function(t){r["a"].registerMap("wuyishan",t),e.doRenderMap()})})},methods:{doRenderMap:function(){var e=this,t=e.$refs;e.bgChart=r["a"].init(t.bg),e.bgChart.setOption({backgroundColor:"transparent",geo:{map:"wuyishan",itemStyle:{color:"#1e4f69",opacity:1,borderWidth:2,borderColor:"#1e4f69"},zoom:1.21,roam:!1}}),e.chart=r["a"].init(e.$refs.container);var a={backgroundColor:"transparent",geo:{map:"wuyishan",selectedMode:"single",itemStyle:{emphasis:{areaColor:"#02b9e1",borderWidth:1.5,borderColor:"#ffffff"},normal:{areaColor:"#162c62",borderColor:"#01bde5",borderWidth:1.5}},label:{normal:{show:!1},emphasis:{show:!1}},regions:e.mapRegions,roam:!1,zoom:1.2},series:[{type:"effectScatter",coordinateSystem:"geo",label:{show:!0,position:"bottom",offset:[0,5],formatter:"{b}",fontWeight:"lighter",fontSize:14,color:"#bff4ff"},symbol:"circle",symbolSize:12,itemStyle:{color:{type:"radial",x:.5,y:.3,r:.5,colorStops:[{offset:.35,color:"#ffffff"},{offset:.4,color:"#69e7fc"},{offset:1,color:"#69e7fc"}]},shadowColor:"rgba(255,255,255,0.8)",shadowBlur:10},rippleEffect:{period:1e6,scale:1},silent:!0,data:[{name:"星村镇",value:[117.82302442,27.6698720185]},{name:"洋庄乡",value:[117.89302442,27.8698720185]},{name:"岚谷乡",value:[118.19302442,27.9798720185]},{name:"兴田镇",value:[117.97902442,27.5598720185]},{name:"五夫镇",value:[118.23902442,27.6198720185]},{name:"上梅乡",value:[118.20902442,27.7298720185]},{name:"武夷街道",value:[117.99902442,27.6908720185]},{name:"吴屯乡",value:[118.10992442,27.8608720185]},{name:"新丰街道",value:[118.03992442,27.8208720185]},{name:"崇安街道",value:[118.01992442,27.7582720185]}]}]},i=e.$store.state;i.smallScreen?(a.geo.itemStyle.normal.borderWidth=1,a.geo.itemStyle.emphasis.borderWidth=1,a.series[0].symbolSize=10,a.series[0].label.fontSize=12,a.series[0].label.offset=[0,3]):i.miniScreen&&(a.geo.itemStyle.normal.borderWidth=.5,a.geo.itemStyle.emphasis.borderWidth=.5,a.series[0].symbolSize=9,a.series[0].label.fontSize=12,a.series[0].label.offset=[0,2]),e.chart.setOption(a),e.chart.on("click",function(t){e.doClickMap(t.name)}),window.addEventListener("resize",e.refresh)},doClickMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=this;a.curr==e&&(e="");var i=a.chart,n=i.getOption();a.mapRegions.forEach(function(t){t.selected=t.name==e});var o=n.series[0].data;if(o.forEach(function(t){t.name==e?(t.label={color:"#ffffff"},t.itemStyle={color:{type:"radial",x:.5,y:.3,r:.5,colorStops:[{offset:.35,color:"#ffffff"},{offset:.4,color:"#3572be"},{offset:1,color:"#3572be"}]},shadowColor:"rgba(0,0,0,0.5)"}):(t.label&&delete t.label,t.itemStyle&&delete t.itemStyle)}),i.setOption({geo:{regions:a.mapRegions},series:[{data:o}]}),a.$emit("change",e),!t)for(var r=0;r<c.length;r++)if(c[r]==e){a.currPlaceIndex=r;break}},doClearMap:function(){var e=this;e.doClickMap("")},refresh:function(){var e=this;setTimeout(function(){e.bgChart&&e.bgChart.resize();var t=null,a=e.$store.state;t=a.smallScreen?{series:[{symbolSize:10,label:{fontSize:12,offset:[0,3]}}]}:a.miniScreen?{series:[{symbolSize:9,label:{fontSize:12,offset:[0,2]}}]}:{series:[{symbolSize:12,label:{fontSize:14,offset:[0,5]}}]},e.chart&&(e.chart.setOption(t),e.chart.resize())},120)},doAutoChange:function(){var e=this;e.currPlaceIndex++,e.currPlaceIndex>10&&(e.currPlaceIndex=0),e.doClickMap(c[e.currPlaceIndex],!0),e.timer=setTimeout(function(){e.doAutoChange()},l["a"].mapAutoChangeTime)},doHandleKeyPress:function(e){var t=this;32==e.keyCode&&t.chart&&(t.autoChange?t.timer&&clearInterval(t.timer):t.doAutoChange(),t.autoChange=!t.autoChange)}},beforeDestroy:function(){var e=this;window.removeEventListener("resize",e.refresh),document.removeEventListener("keypress",e.doHandleKeyPress),e.timer&&clearInterval(e.timer)}},u=h,f=a("17cc"),d=Object(f["a"])(u,i,n,!1,null,null,null);t["a"]=d.exports},f94f:function(e,t,a){var i=a("45e2"),n=Math.PI,o=Math.cos,r=Math.sin,l=i.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(e,t){var a=t.n;if(a&&!(a<2)){var i=t.cx,l=t.cy,s=t.r,c=t.r0;null==c&&(c=a>4?s*o(2*n/a)/o(n/a):s/3);var h=n/a,u=-n/2,f=i+s*o(u),d=l+s*r(u);u+=h,e.moveTo(f,d);for(var m,v=0,p=2*a-1;v<p;v++)m=v%2===0?c:s,e.lineTo(i+m*o(u),l+m*r(u)),u+=h;e.closePath()}}});e.exports=l}}]);